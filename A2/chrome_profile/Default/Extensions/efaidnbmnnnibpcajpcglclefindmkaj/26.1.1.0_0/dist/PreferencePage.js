/*! For license information please see PreferencePage.js.LICENSE.txt */
var e,t={4225:(e,t,r)=>{r.d(t,{nt:()=>c,cN:()=>u,iT:()=>a,ZG:()=>h,PD:()=>f,Z2:()=>s,Nm:()=>l});var n,o={ca:"Fixa a la barra d'eines",cs:"Připnout na panel nástrojů",da:"Fastgør til værktøjslinje",de:"An die Symbolleiste anheften",en:"Pin to toolbar",en_GB:"Pin to toolbar",es:"Fijar en la barra de herramientas",eu:"Finkatu tresna-barra",fi:"Kiinnitä työkalupalkkiin",fr:"Épingler à la barre d'outils",hr:"Prikvači na alatnu traku",hu:"Rögzítés a szerszámsávra",it:"Fissa alla barra degli strumenti",ja:"ツールバーにピン留め",ko:"도구 모음에 고정",nb:"Fest til verktøylinjen",nl:"Vastmaken aan de werkbalk",pl:"Przypnij do paska narzędzi",pt:"Fixar na barra de ferramentas",pt_BR:"Fixar na barra de ferramentas",ro:"Fixează pe bara de unelte",ru:"Закрепить на панели инструментов",sk:"Pripnúť na panel nástrojov",sl:"Pripni na orodno vrstico",sv:"Fäst vid verktygsfältet",tr:"Araç çubuğuna sabitle",uk:"Прикріпити до панелі інструментів",zh_CN:"固定到工具栏",zh_TW:"固定到工具列"},i=function(){var e=chrome.i18n.getMessage("@@ui_locale");return["ca","cs","da","de","en","en_GB","es","eu","fi","fr","hr","hu","it","ja","ko","nb","nl","pl","pt","pt_BR","ro","ru","sk","sl","sv","tr","uk","zh_CN","zh_TW"].includes(e)||(e="en"),e},a={OPTIONS_UPDATE_TOGGLE:"OPTIONS_UPDATE_TOGGLE",OPTIONS_HIGHLIGHT_SECTION:"OPTIONS_HIGHLIGHT_SECTION",OPTIONS_SET_OPTIONS_PAGE_SOURCE:"OPTIONS_SET_OPTIONS_PAGE_SOURCE"},c="chrome://extensions/?id=".concat(chrome.runtime.id,"#options-section:~:text=").concat((n=i(),encodeURIComponent({ca:"Permet l'accés als URL de fitxer",cs:"Umožnit přístup k adresám URL souborů",da:"Tillad adgang til webadresser på filer",de:"Zugriff auf Datei-URLs zulassen",en:"Allow access to file URLs",en_GB:"Allow access to file URLs",es:"Permitir acceso a URL de archivo",eu:"Allow access to file URLs",fi:"Salli tiedostojen URL-osoitteiden käyttö",fr:"Autoriser l'accès aux URL de fichier",hr:"Dozvoli pristup URL-ovima datoteke",hu:"Fájl URL-ekhez való hozzáférés engedélyezése",it:"Consenti l'accesso agli URL dei file",ja:"ファイルの URL へのアクセスを許可する",ko:"파일 URL에 대한 액세스 허용",nb:"Tillat tilgang til filnettadresser",nl:"Toegang tot bestand-URL's toestaan",pl:"Zezwalaj na dostęp do adresów URL plików",pt:"Permitir acesso a URLs de arquivo",pt_BR:"Permitir acesso a URLs de arquivo",ro:"Permite accesul la adresele URL de fișiere",ru:"Разрешить открывать локальные файлы по ссылкам",sk:"Povoliť prístup k webovým adresám súboru",sl:"Dovoli dostop do URL-jev datoteke",sv:"Tillåt åtkomst till webbadresser i filen",tr:"Dosya URL'lerine erişime izin ver",uk:"Надавати доступ до URL-адрес файлу",zh_CN:"允许访问文件网址",zh_TW:"允許存取檔案網址"}[n]).replace("-","%2D"))),u=("chrome://extensions/?id=".concat(chrome.runtime.id,"#options-section:~:text=").concat(function(){var e=i();return encodeURIComponent(o[e]).replace("-","%2D")}()),Object.freeze({height:525,width:605}),"browser/js/offscreen/offscreen.html"),s=Object.freeze({cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",en_GB:"en-GB",en_US:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt_BR:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",zh_TW:"zh-TW",zh_CN:"zh-CN"}),l=(Object.freeze({"cs-CZ":"_locales/cs/messages.json","da-DK":"_locales/da/messages.json","de-DE":"_locales/de/messages.json","en-US":"_locales/en/messages.json","en-GB":"_locales/en_GB/messages.json","es-ES":"_locales/es/messages.json","fi-FI":"_locales/fi/messages.json","fr-FR":"_locales/fr/messages.json","it-IT":"_locales/it/messages.json","ja-JP":"_locales/ja/messages.json","ko-KR":"_locales/ko/messages.json","nb-NO":"_locales/nb/messages.json","nl-NL":"_locales/nl/messages.json","pl-PL":"_locales/pl/messages.json","pt-BR":"_locales/pt_BR/messages.json","ru-RU":"_locales/ru/messages.json","sv-SE":"_locales/sv/messages.json","tr-TR":"_locales/tr/messages.json","zh-TW":"_locales/zh_TW/messages.json","zh-CN":"_locales/zh_CN/messages.json"}),Object.freeze({de:"de-DE",en:"en-US",en_GB:"en-GB",en_US:"en-US",es:"es-ES",ja:"ja-JP",fr:"fr-FR",it:"it-IT",pt_BR:"pt-BR"})),f=Object.freeze({en:"en-US",en_GB:"en-GB",en_US:"en-US"}),h={DEFAULT:"default",LOCAL_FILE_COACHMARK:"localFileCoachmark",LOCAL_FILE_ACCESS_AND_SUMMARY_COACHMARK:"localFileAccessAndSummaryCoachmark",LOCAL_FILE_SUMMARY_COACHMARK:"localFileSummaryCoachmark"}},4759:(e,t,r)=>{r.d(t,{A:()=>wr});var n=r(6540),o=r(759),i=r(381),a=r(2884),c=r(2896),u=r(1120),s=r(5338),l=r(3400),f=r(5518),h=r(3130),p=r(8639),d=r(5037);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:P(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",m={};function b(){}function w(){}function x(){}var E={};s(E,a,(function(){return this}));var S=Object.getPrototypeOf,L=S&&S(S(N([])));L&&L!==r&&n.call(L,a)&&(E=L);var k=x.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==y(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(y(t)+" is not iterable")}return w.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},O(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function b(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){b(i,n,o,a,c,"next",e)}function c(e){b(i,n,o,a,c,"throw",e)}a(void 0)}))}}function x(e,t){return E.apply(this,arguments)}function E(){return(E=w(g().mark((function e(t,r){var n,o,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.customFunction){e.next=12;break}if("function"!=typeof d.PreferenceUtils[t.customFunction]){e.next=11;break}if(!((n=d.PreferenceUtils[t.customFunction]())instanceof Promise)){e.next=9;break}return e.next=6,n;case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n;case 10:return e.abrupt("return",e.t0);case 11:return e.abrupt("return",!0);case 12:if(!t.flag){e.next=23;break}return e.prev=13,e.next=16,chrome.runtime.sendMessage({main_op:"getFloodgateFlag",flag:t.flag});case 16:return o=e.sent,e.abrupt("return",String(o)===String(t.value));case 20:return e.prev=20,e.t1=e.catch(13),e.abrupt("return",!1);case 23:if(!t.settingsKey){e.next=36;break}if(e.prev=24,i=SETTINGS[t.settingsKey],"exists"!==t.operator){e.next=28;break}return e.abrupt("return",null!=i);case 28:if("notExists"!==t.operator){e.next=30;break}return e.abrupt("return",null==i);case 30:return e.abrupt("return",String(i)===String(t.value));case 33:return e.prev=33,e.t2=e.catch(24),e.abrupt("return",!1);case 36:if(!t.storageKey){e.next=45;break}return e.next=39,r.getValue(t.storageKey,null);case 39:if(a=e.sent,"exists"!==t.operator){e.next=42;break}return e.abrupt("return",null!=a);case 42:if("notExists"!==t.operator){e.next=44;break}return e.abrupt("return",null==a);case 44:return e.abrupt("return",String(a)===String(t.value));case 45:return e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e,null,[[13,20],[24,33]])})))).apply(this,arguments)}function S(e,t){return L.apply(this,arguments)}function L(){return(L=w(g().mark((function e(t,r){var n,o,i,a,c,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("custom"!==t.type||!t.function){e.next=12;break}if("function"!=typeof d.PreferenceUtils[t.function]){e.next=11;break}if(!((n=d.PreferenceUtils[t.function]())instanceof Promise)){e.next=9;break}return e.next=6,n;case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n;case 10:return e.abrupt("return",e.t0);case 11:return e.abrupt("return",!0);case 12:if(t.conditions&&0!==t.conditions.length){e.next=14;break}return e.abrupt("return",!0);case 14:o=[],i=v(t.conditions),e.prev=16,i.s();case 18:if((a=i.n()).done){e.next=26;break}return c=a.value,e.next=22,x(c,r);case 22:u=e.sent,o.push(u);case 24:e.next=18;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(16),i.e(e.t1);case 31:return e.prev=31,i.f(),e.finish(31);case 34:if("and"!==t.type){e.next=38;break}return e.abrupt("return",o.every((function(e){return!0===e})));case 38:if("or"!==t.type){e.next=40;break}return e.abrupt("return",o.some((function(e){return!0===e})));case 40:return e.abrupt("return",!0);case 41:case"end":return e.stop()}}),e,null,[[16,28,31,34]])})))).apply(this,arguments)}var k=r(8527),O=r(8198),_=r(5991),P=r(6999),j=r(9405);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(null,arguments)}function A(){A=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==I(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(I(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function N(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function C(e){var t=e.control,o=e.stateManager,i=e.className,a=void 0===i?"":i,c=function(){var e,n=(e=A().mark((function e(n){var i,a,c,u,s,l;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.onClick){e.next=18;break}return null==n||null===(i=n.preventDefault)||void 0===i||i.call(n),e.prev=2,e.next=5,Promise.resolve().then(r.bind(r,5037));case 5:if(a=e.sent,c=a.PreferenceUtils,"function"!=typeof(u=c[t.onClick])){e.next=13;break}if(!((s=u())instanceof Promise)){e.next=13;break}return e.next=13,s;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Error executing link click handler:",e.t0);case 18:if(t.analytics)try{l=null,"string"==typeof t.analytics?l=t.analytics:"object"===I(t.analytics)&&t.analytics.event&&(l=t.analytics.event),l&&o.sendAnalytics(l)}catch(e){console.error("Error sending link analytics:",e)}case 19:case"end":return e.stop()}}),e,null,[[2,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){N(i,n,o,a,c,"next",e)}function c(e){N(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),u={};return t.onClick||(u.href=(0,d.getTranslation)(t.urlKey,t.url),u.target=t.target||"_blank",u.rel="noopener noreferrer"),u.onPress=c,n.createElement(j.N,T({},u,{UNSAFE_className:a}),(0,d.getTranslation)(t.textKey,t.text))}function F(e){var t=e.description,r=e.descriptionKey,o=e.descriptionLink,i=e.stateManager,a=e.className,c=void 0===a?"preference-item-description":a;if(!t&&!r)return null;var u=(0,d.getTranslation)(r,t);if(!o)return n.createElement("p",{className:c},u);var s=(0,d.getTranslation)(o.textKey,o.text);if(s&&u.includes(s)){var l=u.split(s);return n.createElement("p",{className:c},l[0],n.createElement(C,{control:o,stateManager:i}),l[1])}return n.createElement("p",{className:c},u,n.createElement(C,{control:o,stateManager:i}))}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function D(){D=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==G(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(G(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function R(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,c,"next",e)}function c(e){R(i,n,o,a,c,"throw",e)}a(void 0)}))}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function K(e){var t,r,o,i=e.control,a=e.stateManager,c=e.onSave,u=e.isDisabled,s=e.onChangeCallback,l=(r=(0,n.useState)(i.defaultValue),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(r,o)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=l[0],h=l[1],y=(0,n.useCallback)(M(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getValue(i.storageKey,i.defaultValue);case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)}))),[i.storageKey,i.defaultValue,a]);return(0,n.useEffect)((function(){y()}),[y]),(0,n.useEffect)((function(){return a.onRefresh(y),function(){return a.offRefresh(y)}}),[y,a]),n.createElement("div",{className:"preference-item-header"},n.createElement("div",{className:"preference-item-content"},n.createElement("h3",{className:"preference-item-title"},(0,d.getTranslation)(i.titleKey,i.title)),n.createElement(F,{description:i.description,descriptionKey:i.descriptionKey,descriptionLink:i.descriptionLink,stateManager:a})),n.createElement("div",{className:"preference-item-control"},n.createElement(P.L,{selectedKey:f,onSelectionChange:function(e){h(e),i.storageKey&&a.markAsChanged(i.id,i.storageKey,f,e,i.requiresReload||!1,i.saveCallback||null,i.backgroundPreferencesKey||null,i.analytics||null),i.onChange&&"function"==typeof window[i.onChange]&&window[i.onChange](e,f),null==s||s(),null==c||c()},isDisabled:u,"aria-label":(0,d.getTranslation)(i.titleKey,i.title),width:"size-2400"},null===(t=i.options)||void 0===t?void 0:t.map((function(e){return n.createElement(p.q,{key:e.value},(0,d.getTranslation)(e.labelKey,e.label))})))))}var V=r(3987);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function B(){B=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==z(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(z(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Y(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function H(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Y(i,n,o,a,c,"next",e)}function c(e){Y(i,n,o,a,c,"throw",e)}a(void 0)}))}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function W(e){var t,r,o=e.control,i=e.stateManager,a=e.onSave,c=e.isDisabled,u=e.onChangeCallback,s=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],f=s[1],h=(0,n.useCallback)(H(B().mark((function e(){var t;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getValue(o.storageKey,o.defaultValue);case 2:t=e.sent,f(!0===t||"true"===t);case 4:case"end":return e.stop()}}),e)}))),[o.id,o.storageKey,o.defaultValue,i]);return(0,n.useEffect)((function(){h()}),[h]),(0,n.useEffect)((function(){return i.onRefresh(h),function(){return i.offRefresh(h)}}),[h,i]),n.createElement("div",{className:"preference-item-header"},n.createElement("div",{className:"preference-item-content"},n.createElement("h3",{className:"preference-item-title"},(0,d.getTranslation)(o.titleKey,o.title)),n.createElement(F,{description:o.description,descriptionKey:o.descriptionKey,descriptionLink:o.descriptionLink,stateManager:i})),n.createElement("div",{className:"preference-item-control"},n.createElement(V.S,{isSelected:l,onChange:function(e){f(e),o.storageKey&&i.markAsChanged(o.id,o.storageKey,l,e,o.requiresReload||!1,o.saveCallback||null,o.backgroundPreferencesKey||null,o.analytics||null),o.onCheckboxChange&&o.onCheckboxChange(e),null==u||u(),null==a||a()},isDisabled:c,isEmphasized:!0,"aria-label":(0,d.getTranslation)(o.titleKey,o.title)})))}function $(e){var t=e.control,r=e.stateManager,o=e.isDisabled;return n.createElement("div",{className:"preference-item-header"},n.createElement("div",{className:"preference-item-content"},n.createElement("h3",{className:"preference-item-title"},(0,d.getTranslation)(t.titleKey,t.title)),(t.description||t.descriptionKey)&&n.createElement("p",{className:"preference-item-description"},(0,d.getTranslation)(t.descriptionKey,t.description))),n.createElement("div",{className:"preference-item-control"},n.createElement(u.$,{variant:"primary"===t.style?"cta":"secondary",onPress:function(){if(t.action)switch(t.action){case"openLocalFileSettingsPrompt":d.PreferenceUtils.openLocalFileSettingsPrompt(r);break;case"showConversionSettingsDialog":d.PreferenceUtils.showConversionSettingsDialog(r)}},isDisabled:o},(0,d.getTranslation)(t.buttonLabelKey,t.buttonLabel))))}function X(e){var t,r,o=e.control,i=(null===(t=o.image)||void 0===t?void 0:t.position)||"right";return n.createElement(f.S,{marginBottom:"size-300",UNSAFE_className:o.cssClass},n.createElement(l.s,{direction:function(){switch(i){case"top":return"column-reverse";case"bottom":return"column";case"left":return"row-reverse";default:return"row"}}(),alignItems:"start",gap:"24px"},n.createElement(l.s,{direction:"column",UNSAFE_className:"preference-banner-content"},o.badge&&n.createElement(O.E,{UNSAFE_className:"preference-banner-beta-label"},(0,d.getTranslation)(o.badge.textKey,o.badge.text)),n.createElement(k.D,{level:2,UNSAFE_className:"preference-banner-heading"},(0,d.getTranslation)(o.titleKey,o.title)),(o.content||o.contentKey)&&n.createElement(O.E,{className:"preference-item-description"},(0,d.getTranslation)(o.contentKey,o.content))),null!==(r=o.image)&&void 0!==r&&r.src?n.createElement(f.S,null,n.createElement("img",{src:o.image.src,alt:(0,d.getTranslation)(o.image.altKey,o.image.alt),style:{width:o.image.width||"150px",height:o.image.height||"auto",maxWidth:"100%"}})):null))}function Z(e){var t=e.control;return n.createElement("img",{className:"".concat(t.cssClass||""),src:t.src,alt:(0,d.getTranslation)(t.altKey,t.alt),style:{width:t.width||"auto",height:t.height||"auto",maxWidth:"100%"}})}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Q(e){var t,r,o=e.title,i=e.titleKey,a=e.defaultExpanded,c=void 0!==a&&a,u=e.showAccordionTopDivider,s=void 0!==u&&u,l=e.accordionId,f=e.children,h=(t=(0,n.useState)(c),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],y=h[1];return n.createElement("div",{className:"preference-accordion-container ".concat(s?"preference-accordion-container--with-top-divider":""),"data-accordion-id":l,id:l},n.createElement("button",{className:"preference-accordion-trigger ".concat(p?"preference-accordian-expanded":""),onClick:function(){return y(!p)},"aria-expanded":p,"data-accordion-button":"true"},n.createElement("div",{className:"preference-accordion"},n.createElement("h3",{className:"preference-accordion-item-title"},(0,d.getTranslation)(i,o)),n.createElement("span",{className:"preference-accordion-icon"},p?"−":"+"))),p&&n.createElement("div",{className:"preference-accordion-content"},f))}function ee(e){var t,r=e.control,o=e.stateManager,i=e.onSave,a=e.highlightedControlId,c=e.onClearHighlight;return n.createElement(Q,{title:r.title,titleKey:r.titleKey,defaultExpanded:void 0!==r.defaultExpanded&&r.defaultExpanded,showAccordionTopDivider:r.showAccordionTopDivider,accordionId:r.id||r.accordionId},(null===(t=r.content)||void 0===t?void 0:t.sections)&&r.content.sections.map((function(e,t){return n.createElement(De,{key:e.id||t,section:e,stateManager:o,onSave:i,highlightedControlId:a,onClearHighlight:c})})))}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ne(e){var t=e.rectStyle,r=e.largeRect;return n.createElement("div",{"data-testid":"pulse-indicator-container",style:t},n.createElement("div",{className:"pulse-indicator-rect",style:r,"data-testid":"pulse-indicator"}))}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,r=e.zIndex,o=void 0===r?1e4:r,i=e.enabled,a=void 0===i||i,c=e.indicatorAdjustment,u=void 0===c?{heightFactor:1,widthFactor:1,zIndex:o}:c,s=te((0,n.useState)(null),2),l=s[0],f=s[1],h=te((0,n.useState)(a),2),p=h[0],d=h[1],y=(0,n.useRef)({observer:null,timeout:null,removeListeners:null,elementFound:!1}),v=(0,n.useCallback)((function(){if(t){var e=document.querySelector(t);if(e){var r=e.getBoundingClientRect(),n={top:1,left:1};"top"===u.position?n.top=u.heightFactor:"left"===u.position&&(n.left=u.widthFactor);var o=r.top+r.height*n.top/2,i=r.left+r.width*n.left/2+10;f({rectStyle:{position:"fixed",top:o,left:i,zIndex:u.zIndex},largeRect:{height:"".concat(r.height*u.heightFactor+32,"px"),width:"".concat(r.width*u.widthFactor+32,"px"),animationDelay:"0.4s",marginLeft:"-16px"}})}}}),[t,u]),m=(0,n.useCallback)((function(){var e=y.current;e.observer&&(e.observer.disconnect(),e.observer=null),e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.removeListeners&&(e.removeListeners(),e.removeListeners=null),e.elementFound=!1}),[]),g=(0,n.useCallback)((function(){d(!1),m()}),[m]);return(0,n.useEffect)((function(){if(t&&a){d(!0);var e=y.current;e.elementFound=!1;var r=0,n=function(){if(e.elementFound)return!1;var n=Date.now();return!(n-r<100||(r=n,!document.querySelector(t)||(e.elementFound=!0,v(),m(),0)))};if(!n()){var o=!1;e.observer=new MutationObserver((function(){o||e.elementFound||(o=!0,requestAnimationFrame((function(){o=!1,n()})))}));var i=document.getElementById("preference-page-root")||document.body;e.observer.observe(i,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),e.timeout=setTimeout((function(){e.elementFound||(d(!1),m())}),5e3)}var c=0,u=function(){if(e.elementFound){var t=Date.now();t-c<100||(c=t,v())}};return window.addEventListener("scroll",u,{capture:!0,passive:!0}),window.addEventListener("resize",u,{passive:!0}),e.removeListeners=function(){window.removeEventListener("scroll",u,{capture:!0,passive:!0}),window.removeEventListener("resize",u,{passive:!0})},m}d(!1)}),[t,a,v,m]),{pulseIndicator:l&&p?n.createElement(ne,{rectStyle:l.rectStyle,largeRect:l.largeRect}):null,hideIndicator:g}}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return(t=function(e){var t=function(e){if("object"!=ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=de(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function le(){le=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ie(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ie(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function fe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function he(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fe(i,n,o,a,c,"next",e)}function c(e){fe(i,n,o,a,c,"throw",e)}a(void 0)}))}}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||de(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(e){if("string"==typeof e)return ye(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ve(e){var t=e.child,r=e.childValue,o=e.isDisabled,i=e.handleChildChange,a=e.stateManager,c=e.highlightedControlId,u=e.onClearHighlight,s=c===t.id,h=oe({selector:'[data-control-id="'.concat(t.id,'"]'),zIndex:1e4,enabled:s}),p=h.pulseIndicator,y=h.hideIndicator;return n.createElement(n.Fragment,null,n.createElement(f.S,{key:t.id,"data-control-id":t.id},n.createElement(V.S,{isSelected:r,onChange:function(e){s&&(y(),null==u||u()),i(t,e)},isDisabled:o,isEmphasized:!0},n.createElement(l.s,{direction:"column",gap:"size-50"},n.createElement(O.E,null,(0,d.getTranslation)(t.titleKey,t.title)),(t.description||t.descriptionKey||t.descriptionLink)&&n.createElement("div",{className:"preference-item-description-wrapper"},n.createElement(F,{description:t.description,descriptionKey:t.descriptionKey,descriptionLink:t.descriptionLink,stateManager:a}))))),s&&p)}function me(e){var t=e.control,r=e.stateManager,o=e.onSave,i=e.onChangeCallback,a=e.isDisabled,c=e.highlightedControlId,u=e.onClearHighlight,s=pe((0,n.useState)({}),2),h=s[0],p=s[1],y=pe((0,n.useState)({}),2),v=y[0],m=y[1],g=pe((0,n.useState)({}),2),b=g[0],w=g[1],x=pe((0,n.useState)({isSelected:!1,isIndeterminate:!1}),2),E=x[0],L=x[1],_=pe((0,n.useState)(!1),2),P=_[0],j=_[1],T=pe((0,n.useState)(!0),2),A=T[0],I=T[1],N=pe((0,n.useState)(!1),2),C=N[0],G=N[1];(0,n.useEffect)((function(){var e=function(){var e=he(le().mark((function e(){var n;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.visibilityCondition){e.next=5;break}return e.next=3,S(t.visibilityCondition,r);case 3:n=e.sent,I(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.visibilityCondition,r]),(0,n.useEffect)((function(){var e=function(){var e=he(le().mark((function e(){var n;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.disabledCondition){e.next=7;break}return e.next=3,S(t.disabledCondition,r);case 3:n=e.sent,G(n||a||!1),e.next=8;break;case 7:G(a||!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.disabledCondition,a,r]);var D=(0,n.useCallback)(he(le().mark((function e(){var n;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasParent||!t.storageKey){e.next=5;break}return e.next=3,r.getValue(t.storageKey,t.defaultValue);case 3:n=e.sent,j("indeterminate"===n?"indeterminate":!0===n||"true"===n);case 5:case"end":return e.stop()}}),e)}))),[t.hasParent,t.storageKey,t.defaultValue,r]);(0,n.useEffect)((function(){D()}),[D]),(0,n.useEffect)((function(){if(t.hasParent&&t.storageKey)return r.onRefresh(D),function(){return r.offRefresh(D)}}),[t.hasParent,t.storageKey,D,r]);var R=(0,n.useCallback)((function(e,t){var r=Object.keys(e).filter((function(e){return!1!==t[e]}));if(0!==r.length){var n=r.filter((function(t){return e[t]})).length;0===n?L({isSelected:!1,isIndeterminate:!1}):n===r.length?L({isSelected:!0,isIndeterminate:!1}):L({isSelected:!1,isIndeterminate:!0})}else L({isSelected:!1,isIndeterminate:!1})}),[]),M=(0,n.useCallback)(he(le().mark((function e(){var n,o,i,a,c,u,s,l,f;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.children&&0!==t.children.length){e.next=2;break}return e.abrupt("return");case 2:n={},o={},i={},a=se(t.children),e.prev=6,a.s();case 8:if((c=a.n()).done){e.next=36;break}if("checkbox"!==(u=c.value).type){e.next=34;break}if(!u.visibilityCondition){e.next=17;break}return e.next=14,S(u.visibilityCondition,r);case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=!0;case 18:if(s=e.t0,o[u.id]=s,!u.disabledCondition){e.next=26;break}return e.next=23,S(u.disabledCondition,r);case 23:e.t1=e.sent,e.next=27;break;case 26:e.t1=u.disabled||!1;case 27:if(l=e.t1,i[u.id]=l,!s||!u.storageKey){e.next=34;break}return e.next=32,r.getValue(u.storageKey,u.defaultValue);case 32:f=e.sent,n[u.id]=!0===f||"true"===f;case 34:e.next=8;break;case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(6),a.e(e.t2);case 41:return e.prev=41,a.f(),e.finish(41);case 44:p(n),m(o),w(i),t.hasParent&&R(n,o);case 48:case"end":return e.stop()}}),e,null,[[6,38,41,44]])}))),[t.id,t.children,t.hasParent,r,R]);(0,n.useEffect)((function(){M()}),[M]),(0,n.useEffect)((function(){return r.onRefresh(M),function(){return r.offRefresh(M)}}),[M,r]);var U=function(){var e=he(le().mark((function e(){var n,a,c,u,s,l,f,d,y,m,g,w;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!E.isSelected,a=ce({},h),t.children.forEach((function(e){"checkbox"!==e.type||!1===v[e.id]||b[e.id]||(a[e.id]=n)})),p(a),L({isSelected:n,isIndeterminate:!1}),!t.hasParent||!t.storageKey){e.next=36;break}if(j(n),c=null,!t.analytics){e.next=35;break}u=[],s=[],l=se(t.children),e.prev=12,l.s();case 14:if((f=l.n()).done){e.next=26;break}if("checkbox"!==(d=f.value).type||!1===v[d.id]||b[d.id]){e.next=24;break}return e.next=19,r.getOriginalValue(d.storageKey,d.defaultValue);case 19:y=e.sent,m=a[d.id]||!1,(!0===y||"true"===y)!=(g=!0===m||"true"===m)&&(g?u.push(d.title):s.push(d.title));case 24:e.next=14;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(12),l.e(e.t0);case 31:return e.prev=31,l.f(),e.finish(31);case 34:(u.length>0||s.length>0)&&(w=n?t.analytics.enabled:t.analytics.disabled)&&(c={event:w,params:{enabledChildren:u,disabledChildren:s}});case 35:r.markAsChanged(t.id,t.storageKey,P,n,t.requiresReload||!1,t.saveCallback||null,t.backgroundPreferencesKey||null,c);case 36:t.children.forEach((function(e){"checkbox"===e.type&&e.storageKey&&!1!==v[e.id]&&!b[e.id]&&r.markAsChanged(e.id,e.storageKey,h[e.id]||!1,n,e.requiresReload||!1,e.saveCallback||null,e.backgroundPreferencesKey||null,e.analytics||null)})),null==i||i(),null==o||o();case 39:case"end":return e.stop()}}),e,null,[[12,28,31,34]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=he(le().mark((function e(n,a){var c,u,s,l,f,d,y,m,g,w,x,E,S,L,k;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=h[n.id]||!1,u=ce(ce({},h),{},ue({},n.id,a)),p(u),!t.hasParent){e.next=39;break}if(R(u,v),!t.storageKey){e.next=39;break}if(s=Object.keys(u).filter((function(e){return!1!==v[e]})),l=s.filter((function(e){return u[e]})),f=0!==l.length&&(l.length===s.length&&s.length>0||"indeterminate"),d=null,!t.analytics){e.next=37;break}y=[],m=[],g=se(t.children),e.prev=14,g.s();case 16:if((w=g.n()).done){e.next=28;break}if("checkbox"!==(x=w.value).type||!1===v[x.id]||b[x.id]){e.next=26;break}return e.next=21,r.getOriginalValue(x.storageKey,x.defaultValue);case 21:E=e.sent,S=u[x.id]||!1,(!0===E||"true"===E)!=(L=!0===S||"true"===S)&&(L?y.push(x.title):m.push(x.title));case 26:e.next=16;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(14),g.e(e.t0);case 33:return e.prev=33,g.f(),e.finish(33);case 36:(y.length>0||m.length>0)&&(k="indeterminate"===f||!0===f?t.analytics.enabled:t.analytics.disabled)&&(d={event:k,params:{enabledChildren:y,disabledChildren:m}});case 37:f!==P&&j(f),r.hasChanged(t.id)||f!==P?r.markAsChanged(t.id,t.storageKey,P,f,t.requiresReload||!1,t.saveCallback||null,t.backgroundPreferencesKey||null,d):d&&r.addPendingAnalytics(t.id,d);case 39:n.storageKey&&r.markAsChanged(n.id,n.storageKey,c,a,n.requiresReload||!1,n.saveCallback||null,n.backgroundPreferencesKey||null,n.analytics||null),null==i||i(),null==o||o();case 42:case"end":return e.stop()}}),e,null,[[14,30,33,36]])})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){if(!t.children||0===t.children.length)return null;var e=t.itemsPerRow||2,o=t.gap||"size-200",i=t.children.filter((function(e){return"checkbox"===e.type&&!1!==v[e.id]}));return 0===i.length?null:n.createElement(l.s,{direction:"row",wrap:"wrap",gap:o,UNSAFE_style:{display:"grid",gridTemplateColumns:"repeat(".concat(e,", 1fr)"),gap:"var(--spectrum-global-dimension-size-200)"}},i.map((function(e,t){var o=h[e.id]||!1,i=b[e.id]||!1;return n.createElement(ve,{key:e.id||t,child:e,childValue:o,isDisabled:i,handleChildChange:K,stateManager:r,highlightedControlId:c,onClearHighlight:u})})))},B=function(){return t.checkboxGroupFooter||t.checkboxGroupFooterKey?n.createElement("div",{className:"preference-item-footer-container"},n.createElement(F,{description:t.checkboxGroupFooter,descriptionKey:t.checkboxGroupFooterKey,descriptionLink:t.checkboxGroupFooterLink,stateManager:r,className:"preference-item-footer"})):null};return A?t.hasParent?n.createElement(f.S,{UNSAFE_className:"preference-checkbox-group"},n.createElement("div",{className:"preference-item-header"},n.createElement("div",{className:"preference-item-content"},n.createElement("h3",{className:"preference-item-title"},(0,d.getTranslation)(t.titleKey,t.title)),n.createElement(F,{description:t.description,descriptionKey:t.descriptionKey,descriptionLink:t.descriptionLink,stateManager:r})),n.createElement("div",{className:"preference-item-control"},n.createElement(V.S,{isSelected:E.isSelected,isIndeterminate:E.isIndeterminate,onChange:U,isDisabled:C,isEmphasized:!0,"aria-label":(0,d.getTranslation)(t.titleKey,t.title),"data-control-id":t.id}))),t.hasAccordion?n.createElement(Q,{title:t.accordionTitle,titleKey:t.accordionTitleKey,defaultExpanded:!0===t.defaultExpanded,showAccordionTopDivider:!0===t.showAccordionTopDivider,accordionId:t.accordionId},n.createElement(f.S,{marginStart:"size-400"},z(),B())):n.createElement(f.S,{marginStart:"size-400"},z(),B())):n.createElement(f.S,{UNSAFE_className:"preference-checkbox-group"},(t.title||t.titleKey)&&!t.hasAccordion&&n.createElement(k.D,{level:4,marginBottom:"size-150",UNSAFE_className:"preference-item-title"},(0,d.getTranslation)(t.titleKey,t.title)),(t.description||t.descriptionKey)&&!t.hasAccordion&&n.createElement(O.E,{marginBottom:"size-200",UNSAFE_className:"preference-item-description"},(0,d.getTranslation)(t.descriptionKey,t.description)),t.hasAccordion?n.createElement(Q,{title:t.title||t.accordionTitle,titleKey:t.titleKey||t.accordionTitleKey,defaultExpanded:!0===t.defaultExpanded,showAccordionTopDivider:t.showAccordionTopDivider,accordionId:t.accordionId},z(),B()):n.createElement(n.Fragment,null,z(),B())):null}var ge=r(5742);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function we(){we=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==be(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(be(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function xe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xe(i,n,o,a,c,"next",e)}function c(e){xe(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ke(e){var t=e.control,r=e.stateManager,o=e.onSave,i=(e.isDisabled,e.onChangeCallback),a=Se((0,n.useState)([]),2),c=a[0],u=a[1],s=Se((0,n.useState)(!1),2),l=s[0],h=s[1],y=t.maxVisibleTags||9,v=(0,n.useCallback)(Ee(we().mark((function e(){var n,o;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getValue(t.storageKey,t.defaultValue||[]);case 2:n=e.sent,o=Array.isArray(n)?n:[],u(o);case 5:case"end":return e.stop()}}),e)}))),[t.storageKey,t.defaultValue,r]);if((0,n.useEffect)((function(){v()}),[v]),(0,n.useEffect)((function(){return r.onRefresh(v),function(){return r.offRefresh(v)}}),[v,r]),0===c.length)return null;var m=l?c:c.slice(0,y),g=c.length>y;return n.createElement(f.S,null,n.createElement("div",{className:"preference-item-header"},n.createElement("div",{className:"preference-item-content"},n.createElement(k.D,{level:2,UNSAFE_className:"preference-banner-heading"},(0,d.getTranslation)(t.titleKey,t.title)),(t.description||t.descriptionKey)&&n.createElement("p",{className:"preference-item-description"},(0,d.getTranslation)(t.descriptionKey,t.description)))),n.createElement(ge.C,{"aria-label":(0,d.getTranslation)(t.titleKey,t.title),onRemove:function(e){var n=c.filter((function(t){return!Array.from(e).includes(t)}));u(n),t.storageKey&&r.markAsChanged(t.id,t.storageKey,c,n,t.requiresReload||!1,t.saveCallback||null,t.backgroundPreferencesKey||null,t.analytics||null),null==i||i(),null==o||o()},UNSAFE_className:"preference-tag-list"},m.map((function(e,t){return n.createElement(p.q,{UNSAFE_className:"preference-tag-item",key:e,textValue:e},e)}))),g&&n.createElement(j.N,{onPress:function(){h(!l)},UNSAFE_className:"preference-tag-show-more"},l?(0,d.getTranslation)(t.showLessTextKey,t.showLessText||"Show less"):(0,d.getTranslation)(t.showMoreTextKey,t.showMoreText||"Show more")))}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function _e(){_e=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Oe(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Oe(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Pe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function je(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Pe(i,n,o,a,c,"next",e)}function c(e){Pe(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ie(e){var t=e.control,r=e.stateManager,o=e.onSave,i=e.highlightedControlId,a=e.onClearHighlight,c=e.parentSectionId,u=Te((0,n.useState)(!0),2),s=u[0],h=u[1],p=Te((0,n.useState)(!1),2),d=p[0],y=p[1],v=i===t.id,m=i===c,g=oe({selector:'[data-control-id="'.concat(t.id,'"]'),zIndex:1e4,enabled:v}),b=g.pulseIndicator,w=g.hideIndicator,x=function(){var e=je(_e().mark((function e(){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.visible){e.next=3;break}return h(!1),e.abrupt("return");case 3:if(!t.visibilityCondition){e.next=8;break}return e.next=6,S(t.visibilityCondition,r);case 6:n=e.sent,h(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=je(_e().mark((function e(){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.disabled){e.next=3;break}return y(!0),e.abrupt("return");case 3:if(!t.disabledCondition){e.next=8;break}return e.next=6,S(t.disabledCondition,r);case 6:n=e.sent,y(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,n.useEffect)((function(){x(),E()}),[t]),!s)return null;var L,k={control:t,stateManager:r,onSave:o,isDisabled:d,onChangeCallback:function(){v&&w(),(v||m)&&(null==a||a())}};switch("accordion"!==t.type&&"checkbox-group"!==t.type||(k.highlightedControlId=i,k.onClearHighlight=a),t.type){case"dropdown":L=K;break;case"checkbox":L=W;break;case"button":L=$;break;case"banner":L=X;break;case"image":L=Z;break;case"accordion":L=ee;break;case"checkbox-group":L=me;break;case"taglist":L=ke;break;case"link":L=C;break;default:return null}return n.createElement(n.Fragment,null,n.createElement("div",{className:"preference-control ".concat(!0===t.hideDivider?"preference-control--no-divider":""," ").concat("checkbox-group"===t.type?"preference-control--checkbox-group":""),"data-control-id":t.id},n.createElement(L,k),["accordion","checkbox-group"].includes(t.type)?null:t.children&&0!==t.children.length?n.createElement(f.S,{marginStart:"size-400",marginTop:"size-200"},n.createElement(l.s,{direction:"column",gap:"size-0"},t.children.map((function(e,t){return n.createElement(Ie,{key:e.id||t,control:e,stateManager:r,onSave:o,highlightedControlId:i,onClearHighlight:a,parentSectionId:c})})))):null,!0!==t.hideDivider&&n.createElement(_.c,{UNSAFE_className:"preference-section-divider"})),v&&b)}function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ce(){Ce=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ne(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Ne(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Fe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function De(e){var t,r,o=e.section,i=e.stateManager,a=e.onSave,c=e.highlightedControlId,u=e.onClearHighlight,s=(t=(0,n.useState)(!0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=s[0],p=s[1],y=c===o.id,v=oe({selector:'[data-section-id="'.concat(o.id,'"]'),zIndex:1e4,enabled:y}),m=v.pulseIndicator,g=(v.hideIndicator,function(){var e,t=(e=Ce().mark((function e(){var t;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==o.visible){e.next=3;break}return p(!1),e.abrupt("return");case 3:if(!o.visibilityCondition){e.next=8;break}return e.next=6,S(o.visibilityCondition,i);case 6:t=e.sent,p(t);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fe(i,n,o,a,c,"next",e)}function c(e){Fe(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}());return(0,n.useEffect)((function(){g()}),[o]),h&&o.controls?n.createElement(n.Fragment,null,n.createElement("div",{"data-section-id":o.id},n.createElement(f.S,{UNSAFE_className:"preference-section ".concat(o.cssClass||"")},(o.title||o.titleKey)&&n.createElement(k.D,{level:3,marginBottom:"size-150",UNSAFE_className:"preference-item-title"},(0,d.getTranslation)(o.titleKey,o.title)),(o.description||o.descriptionKey)&&n.createElement(O.E,{marginBottom:"size-200",UNSAFE_className:"preference-item-description"},(0,d.getTranslation)(o.descriptionKey,o.description)),n.createElement(l.s,{direction:"column",gap:"size-0"},o.controls.map((function(e,t){return n.createElement(Ie,{key:e.id||t,control:e,stateManager:i,onSave:a,highlightedControlId:c,onClearHighlight:u,parentSectionId:o.id})}))))),y&&m):null}var Re=r(4225);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ue(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ye(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Ke(){Ke=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Me(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Me(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ve(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ze(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ve(i,n,o,a,c,"next",e)}function c(e){Ve(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return He(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qe(e){var t=e.config,r=e.stateManager,o=e.onSave,i=e.setClearHighlightCallback,a=e.savePreferences,c=Be((0,n.useState)(null),2),u=c[0],s=c[1],y=Be((0,n.useState)([]),2),v=y[0],m=y[1],g=Be((0,n.useState)(null),2),b=g[0],w=g[1],x=function(){var e=ze(Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.visible){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t.visibilityCondition){e.next=6;break}return e.next=5,S(t.visibilityCondition,r);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=ze(Ke().mark((function e(){var r,n,o,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.tabs){e.next=2;break}return e.abrupt("return");case 2:r=[],n=Ue(t.tabs),e.prev=4,n.s();case 6:if((o=n.n()).done){e.next=14;break}return i=o.value,e.next=10,x(i);case 10:e.sent&&r.push(i);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:r.sort((function(e,t){return(e.order||0)-(t.order||0)})),m(r),r.length>0&&!u&&s(r[0].id);case 25:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),L=(0,n.useCallback)((function(){w(null)}),[]),k=(0,n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=document.querySelector('[data-accordion-id="'.concat(e,'"]'));if(n){var o=n.querySelector(".preference-accordion-trigger");"true"!==(null==o?void 0:o.getAttribute("aria-expanded"))&&o?(o.click(),t&&setTimeout(t,r)):t&&t()}}),[]),O=(0,n.useCallback)((function(e,t){var r=e.tabId,n=e.controlId,o=e.accordionId;r&&s(r),n&&setTimeout((function(){o?k(o,(function(){w(n),setTimeout((function(){var e=document.querySelector('[data-control-id="'.concat(n,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)}),300):(w(n),setTimeout((function(){var e,t;e=n,(t=document.querySelector('[data-control-id="'.concat(e,'"]')))||(t=document.querySelector('[data-section-id="'.concat(e,'"]'))),t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),100))}),300),t({success:!0})}),[k]);(0,n.useEffect)((function(){E()}),[t]);var _=(0,n.useCallback)((function(e){if(!t||!t.tabs)return null;var r,n=Ue(t.tabs);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.sections){var i,a=Ue(o.sections);try{for(a.s();!(i=a.n()).done;){var c=i.value;if(c.controls){var u=c.controls.find((function(t){return t.id===e}));if(u)return u}}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}return null}),[t]),P=(0,n.useCallback)(function(){var e=ze(Ke().mark((function e(t,n){var o,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=_(t))&&o.storageKey){e.next=3;break}throw new Error("Toggle not visible.");case 3:return e.next=5,r.getValue(o.storageKey,o.defaultValue);case 5:return i=e.sent,r.markAsChanged(o.id,o.storageKey,i,n,o.requiresReload||!1,o.saveCallback||null,o.backgroundPreferencesKey||null,o.analytics||null),e.next=9,a();case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[_,r]),j=(0,n.useCallback)(function(){var e=ze(Ke().mark((function e(t,r){var n,o,i,a,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toggleId,o=t.toggleVal,i=t.requestType,a=void 0,c=void 0,e.prev=3,e.next=6,P(n,o);case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),c=e.t0.message||"Failed to update toggle";case 12:r({requestType:i,controlId:n,response:a,error:c});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}(),[P]),T=(0,n.useCallback)(function(){var e=ze(Ke().mark((function e(t,n){var o,i,a,c,u,s;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={CHECK_TOGGLE_STATE:"check_toggle_state",UPDATE_TOGGLE_STATE:"update_toggle_state"},i=t.test_extension,a=t.toggleId,c=void 0,u=void 0,e.prev=5,s=_(a),e.t0=i,e.next=e.t0===o.CHECK_TOGGLE_STATE?10:e.t0===o.UPDATE_TOGGLE_STATE?18:22;break;case 10:if(!s||!s.storageKey){e.next=16;break}return e.next=13,r.getValue(s.storageKey,s.defaultValue);case 13:c=e.sent,e.next=17;break;case 16:u="Toggle not visible.";case 17:return e.abrupt("break",23);case 18:return e.next=20,P(a,t.toggleVal);case 20:return c=e.sent,e.abrupt("break",23);case 22:u="Invalid request type.";case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(5),u=e.t1.message||"Failed to process automation request";case 28:n({requestType:i,controlId:a,response:c,error:u});case 29:case"end":return e.stop()}}),e,null,[[5,25]])})));return function(t,r){return e.apply(this,arguments)}}(),[_,r,P]);return(0,n.useEffect)((function(){var e=function(e,t,r){if(e.requestType===Re.iT.OPTIONS_HIGHLIGHT_SECTION)try{O({tabId:e.preferenceTabId,controlId:e.controlId,accordionId:e.accordionId},r)}catch(e){r({success:!1,error:e.message})}e.requestType===Re.iT.OPTIONS_UPDATE_TOGGLE&&ze(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(e,r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),r({error:t.t0.message});case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))(),SETTINGS.TEST_MODE&&"test"===e.panel_op&&ze(Ke().mark((function t(){return Ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e,r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),r({error:t.t0.message});case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()};return chrome.runtime.onMessage.addListener(e),function(){chrome.runtime.onMessage.removeListener(e)}}),[O,j,T]),(0,n.useEffect)((function(){i&&i(L)}),[i,L]),(0,n.useEffect)((function(){var e=function(e){var t=e.detail||{},r=t.tabId,n=t.accordionId;r&&s(r),n&&setTimeout((function(){k(n,(function(){var e=document.querySelector('[data-accordion-id="'.concat(n,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"start"})}),300)}),300)};return window.addEventListener("navigateToPreference",e),function(){window.removeEventListener("navigateToPreference",e)}}),[k]),t&&0!==v.length?n.createElement(h.tU,{"aria-label":"Preference tabs",selectedKey:u,onSelectionChange:function(e){s(e),w(null)},orientation:"vertical",isQuiet:!1},n.createElement(h.wb,{UNSAFE_className:"preferences-tab-list"},v.map((function(e){return n.createElement(p.q,{key:e.id,UNSAFE_className:"preferences-tab-item"},(0,d.getTranslation)(e.labelKey,e.label))}))),n.createElement(h.T2,{UNSAFE_className:"preferences-tab-panels"},v.map((function(e){return n.createElement(p.q,{key:e.id},n.createElement(f.S,null,n.createElement("h1",{className:"preference-page-title"},(0,d.getTranslation)("web2pdfOptionsTitle","Adobe Acrobat preferences")),e.sections&&e.sections.map((function(e,t){return n.createElement(De,{key:e.id||t,section:e,stateManager:r,onSave:o,highlightedControlId:b,onClearHighlight:L})}))))})))):n.createElement(l.s,{justifyContent:"center",alignItems:"center",height:"100vh"},n.createElement(f.S,null,"Loading preferences..."))}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function $e(){$e=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==We(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(We(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Xe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ze(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Xe(i,n,o,a,c,"next",e)}function c(e){Xe(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function Qe(e){var t=function(e){if("object"!=We(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==We(t)?t:t+""}var et=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.CONFIG_PATH=chrome.runtime.getURL("dist/preferences-config.json"),this.fetchPromise=null},t=[{key:"init",value:(n=Ze($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"loadConfiguration",value:(r=Ze($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fetchPromise){e.next=2;break}return e.abrupt("return",this.fetchPromise);case 2:return this.fetchPromise=Ze($e().mark((function e(){var r,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.CONFIG_PATH);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Failed to load config: ".concat(r.status," ").concat(r.statusText));case 6:return e.next=8,r.json();case 8:if((n=e.sent)&&n.tabs){e.next=11;break}throw new Error("Invalid config structure: missing 'tabs' property");case 11:return e.abrupt("return",n);case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error loading preferences config:",e.t0),chrome.runtime.sendMessage({main_op:"log-error",log:{message:"Failed to load preferences config",error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(null===e.t0||void 0===e.t0?void 0:e.t0.toString()),errorStack:null===e.t0||void 0===e.t0?void 0:e.t0.stack,configPath:t.CONFIG_PATH}}),e.t0;case 19:return e.prev=19,t.fetchPromise=null,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,14,19,22]])})))(),e.abrupt("return",this.fetchPromise);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],t&&Je(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n}(),tt=r(5153),rt={eVar1:"extension.version",eVar4:"shim",eVar31:"viewer.enable.source",eVar41:"viewer.visitor.id",evar60:"install.type",evar153:"env",eVar233:"mv3.mimehandler"},nt={"local-dev":"https://dc-api-dev.adobe.io",dev:"https://dc-api-dev.adobe.io",test:"https://dc-api-dev.adobe.io",stage:"https://dc-api-stage.adobe.io",prod:"https://dc-api.adobe.io"},ot={};function it(e,t){Object.values(ot).includes(t)?console.log("value ".concat(t," already exists.")):ot[e]=t}it("Error in Highlighting Attribution","0"),it("DCBrowserExt:Viewer:ExtnViewerPdfOpened","1"),it("DCBrowserExt:Viewer:PDFOpenedinMimeViewer","2"),it("DCBrowserExt:Viewer:Processing:LocalPDFFile","3"),it("DCBrowserExt:Viewer:Error:FallbackToNative:Preview:Failed","4"),it("DCBrowserExt:Viewer:Iframe:Creation:Failed","5"),it("DCBrowserExt:Viewer:Error:FallbackToNative:FileDownload:Failed","6"),it("DCBrowserExt:Viewer:Error:Handshake:TimedOut","7"),it("DCBrowserExt:Viewer:FallbackToNative:Failed","8"),it("Viewer Iframe created","9"),it("indexeddb could not be opened","10"),it("Error in transaction","11"),it("Error in updating buffer","12"),it("Error in getting buffer","13"),it("Error in deleting buffer","14"),it("DCEdgeExt:Viewer:ExtnViewerPdfOpened","15"),it("DCEdgeExt:Viewer:PDFOpenedinMimeViewer","16"),it("DCEdgeExt:Viewer:Processing:LocalPDFFile","17"),it("DCEdgeExt:Viewer:Error:FallbackToNative:Preview:Failed","18"),it("DCEdgeExt:Viewer:Iframe:Creation:Failed","19"),it("DCEdgeExt:Viewer:Error:Linearization:InitialBuffer:Failed","20"),it("DCEdgeExt:Viewer:Error:FallbackToNative:FileDownload:Failed","21"),it("DCEdgeExt:Viewer:Error:Handshake:TimedOut","22"),it("DCEdgeExt:Viewer:FallbackToNative:Failed","23"),it("DCBrowserExt:Extension:Installed:Admin:Op","24"),it("DCEdgeExt:Extension:Installed:Admin:Op","25"),it("Error in reopening tab","26"),it("reloadInNativeViewer","27"),it("DCBrowserExt:Viewer:User:Error:NonMatchingCsrfToken:FailedToLogin","28"),it("DCEdgeExt:Viewer:User:Error:NonMatchingCsrfToken:FailedToLogin","29"),it("Floodgate API call stacktrace","30"),it("Error received in express flow","31"),it("Error executing express verb","32"),it("Express asset loaded time","34"),it("[Attribution Info]: Matching percentage of X path content and bound content","35"),it("Error in calculating matching percentage of X path content and bound content","36"),it("Error executing express in whatsapp","37"),it("User tried opening blob file after expiry","38"),it("Error in GSuite","39"),it("URL changed due to page scroll irrespective of sidepanel being opened or closed","40"),it("Iframe blocked due to CORS, CSP, or X-Frame-Options","41"),it("Successfully launched an iframe on URL change","42"),it("Iframe loaded but access denied (Possible CORS restriction)","43"),it("Failed to load iframe URL (possible network error)","44"),it("File downloaded","45"),it("Error executing express in google image preview","46"),it("FAB clicked","47"),it("Sidepanel iframe loaded","49"),it("Error in loading sidepanel iframe","50"),it("Sidepanel.js file initialized","51"),it("Opening sidepanel on current tab","52"),it("FAB dragged","53"),it("FAB hidden for domain","54"),it("AI marker popup is overlapped a clickable element","56"),it("Forced setting position of embed tag to absolute","57"),it("Error in resetting position of embed tag in edge viewer","58"),it("AI marker popup is too far from the text","60"),it("AI marker popup is overlapped a non-clickable text or image element","61"),it("Menu not shown because AI marker popup iframe is not found","62");var at=[];function ct(e,t){Array.isArray(e)?e.forEach((function(e,r){t.call(e,r,e)})):e&&Object.keys(e).forEach((function(r){t.call(e[r],r,e[r])}))}function ut(e){var t=[];return ct(e,(function(e,r){t.push(e+"="+encodeURIComponent(r))})),t.join("&")}function st(e,t){var r={},n=e||new Promise((function(e,n){r.resolve=function(){return r.timer&&clearTimeout(r.timer),e.apply(void 0,arguments)},r.reject=function(){if(r.timer&&clearTimeout(r.timer),n)return n.apply(void 0,arguments)},t&&(r.timer=setTimeout(dc.wrap((function(){r.time_out=!0,delete r.timer,r.resolve()})),6e4))}));return r.promise=function(){return n},r.clearTimer=function(){r.timer&&clearTimeout(r.timer)},r.then=function(e){return n.then(e)},r.done=function(e){return n.then(e,e)},r}var lt=r(9022);function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pt(){pt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ft(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ft(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function dt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function yt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){dt(i,n,o,a,c,"next",e)}function c(e){dt(i,n,o,a,c,"throw",e)}a(void 0)}))}}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return(t=function(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bt,wt,xt,Et,St,Lt=["http","https","ftp","file","blob","data","filesystem","drive"],kt=chrome.runtime.getURL("/"),Ot={extend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(e[r]=t[r]);return e},getFrictionlessLocale:function(e){return Re.Z2[e]||Re.Z2.en},getFrictionlessLocaleChatPdf:function(e){return Re.PD[e]},getFrictionlessLocaleOcrPdf:function(e){return Re.Nm[e]},isChrome:function(){return!0},isLocalFileUrl:function(e){return e.startsWith("file:///")&&(e.endsWith(".pdf")||e.endsWith(".PDF"))},isEdge:function(){return navigator.userAgentData?navigator.userAgentData.brands.some((function(e){return"Microsoft Edge"===e.brand})):navigator.userAgent.includes("Edg/")},isChromeOnlyMessage:function(e){return-1!==["web2pdfMissingMac","web2pdfFrictionlessUrl","web2pdfBadVersion","pdfOwnershipExploreAcrobat","pdfOwnershipPromptContent","LearnMoreURL"].indexOf(e)},getBrowser:function(){return this.isEdge()?2:1},stackDelimiter:function(){return"\n"},Deferred:st,each:ct,ajax:function(e){var t=e.type||"GET",n=e.data,o=function(){var e=r(9422),t=e.Cc,n=e.Ci;return t["@mozilla.org/xmlextras/xmlhttprequest;1"].createInstance(n.nsIXMLHttpRequest)}(),i=st();return o.open(t,e.url,!0),o.onload=function(t){var r=t.currentTarget,n=r.response;try{n=JSON.parse(n)}catch(e){n=r.responseText}r.status<400?i.resolve(n,r.statusText):(i.reject(r,r.statusText,n),ct(at,(function(t){t({type:"ajaxError"},r,e,r.statusText)})))},e.contentType&&o.setRequestHeader("Content-Type",e.contentType),ct(e.headers,(function(e,t){o.setRequestHeader(e,t)})),e.hasOwnProperty("processData")&&!e.processData||"string"==typeof n||n instanceof String||(n=e.contentType&&-1!==e.contentType.indexOf("application/x-www-form-urlencoded")?ut(n):JSON.stringify(n)),o.send(n),i.promise()},ajaxError:function(e){at.push(e)},param:ut,newBlob:function(e){return new Blob(e)},newFormData:function(){return new FormData},newXHR:function(){return new XMLHttpRequest},createTab:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t?chrome.tabs.create(mt({url:e,active:!0},r),t):chrome.tabs.create(mt({url:e,active:!0},r))},isDevEnv:function(){var e=st();return chrome.management.getSelf((function(t){e.resolve("development"===t.installType)})),e.promise()},closeWindow:function(e){chrome.windows.remove(e.id)},getTranslation:function(e,t){if(e)return this.isChromeOnlyMessage(e)&&this.isEdge()&&(e+="Edge"),t?chrome.i18n.getMessage(e,t):chrome.i18n.getMessage(e)},sendMessage:function(e,t,r){chrome.tabs.sendMessage(e.tabId,e,r)},consoleLog:function(){var e;lt.SETTINGS.DEBUG_MODE&&(e=console).log.apply(e,arguments)},consoleLogDir:function(){var e;lt.SETTINGS.DEBUG_MODE&&(e=console).dir.apply(e,arguments)},consoleError:function(){var e;lt.SETTINGS.DEBUG_MODE&&(e=console).error.apply(e,arguments)},arrayBufferToSHA256:(St=yt(pt().mark((function e(t){var r,n,o,i;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=self.crypto)||void 0===r||null===(r=r.subtle)||void 0===r?void 0:r.digest("SHA-256",t);case 2:return n=e.sent,o=Array.from(new Uint8Array(n)),i=o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),function(e){return St.apply(this,arguments)}),stringToSHA256:function(e){return this.arrayBufferToSHA256((new TextEncoder).encode(e))},atob16:function(e){var t,r=atob(e),n=[];for(t=0;t<r.length;t+=2)n.push(String.fromCharCode(r.charCodeAt(t)+256*r.charCodeAt(t+1)));return n.join("")},removeQueryParams:function(e){var t=e.split("?");return null!=t?t[0]:e},parseExtensionURL:function(e){var t=(e=e.substring(kt.length)).search(/:|%3A/i);if(-1!==t){var r=e.slice(0,t).toLowerCase();return Lt.includes(r)?(":"===(e=e.split("#")[0]).charAt(t)&&(e=encodeURIComponent(e)),e):void 0}},isViewerURL:function(e){if(e)try{var t=e.substring(kt.length),r=t.search(/:|%3A/i);if(-1!==r){var n=t.slice(0,r).toLowerCase();if(Lt.includes(n))return!0}return e.startsWith("chrome-extension://".concat(chrome.runtime.id,"/viewer.html"))}catch(e){}return!1},uuid:function(){try{var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}catch(e){return Math.random()}},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},verCmp:function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})},isAcrobatAvailable:function(e){return!(0==e||1==e||e===lt.SETTINGS.READER_VER||e===lt.SETTINGS.ERP_READER_VER)},mimeReloadAllTabs:function(){var e=tt.Yz.getItem("loadedTabsInfo"),t=(null==e?void 0:e.tabsInfo)||[];chrome.tabs.query({},(function(e){e.forEach((function(e){var r=e.id;t.includes(r)&&chrome.tabs.reload(r)}));var r=tt.Yz.getItem("settingsWindow");r&&setTimeout((function(){chrome.tabs.remove(null==r?void 0:r.id),tt.Yz.removeItem("settingsWindow"),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.runtime.sendMessage({content_op:"showLocalFileAccessToast",tabId:e[0].id,action:null==r?void 0:r.action})}))}),1e3)})),tt.Yz.removeItem("loadedTabsInfo")},isBrowserVersionGreaterThan116:function(){try{var e=navigator.userAgent.match(/Chrome\/([0-9]+)/)||["0","0"];return!!(e&&e.length>=2)&&+e[1]>=116}catch(e){return!1}},hasOffscreenDocument:(Et=yt(pt().mark((function e(){var t,r;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("getContexts"in chrome.runtime)){e.next=7;break}return e.next=3,chrome.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"]});case 3:return t=e.sent,e.abrupt("return",Boolean(t.length));case 7:return e.next=9,clients.matchAll();case 9:return r=e.sent,e.abrupt("return",r.some((function(e){return e.url.includes(Re.cN)})));case 11:case"end":return e.stop()}}),e)}))),function(){return Et.apply(this,arguments)}),setupOffscreenDocument:(xt=yt(pt().mark((function e(t){var r,n;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot.hasOffscreenDocument();case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(bt){e.next=13;break}return bt=!0,r=[chrome.offscreen.Reason.IFRAME_SCRIPTING],n="Load iframe in offscreen document",Ot.isBrowserVersionGreaterThan116()&&(r=[chrome.offscreen.Reason.IFRAME_SCRIPTING,chrome.offscreen.Reason.BLOBS],n="Load iframe in offscreen document and interact with object URLs"),e.next=13,chrome.offscreen.createDocument({url:t,reasons:r,justification:n});case 13:return e.prev=13,bt=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,,13,16]])}))),function(e){return xt.apply(this,arguments)}),isAcrobatOrigin:function(e){return/^https:\/\/((dev|stage)+\.){0,}acrobat\.adobe\.com?$/.test(e)},isAdobeOrigin:function(e){return/^https:\/\/www\.((dev01|stage)+\.){0,}adobe\.com?$/.test(e)},checkOS:(wt=yt(pt().mark((function e(){var t,r;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.getPlatformInfo();case 2:t=e.sent,lt.SETTINGS.OS=t.os,lt.SETTINGS.CHROME_VERSION=0,lt.SETTINGS.EXTENSION_VERSION=0;try{(r=navigator.userAgent.match(/Chrome\/([0-9]+)/))&&(lt.SETTINGS.CHROME_VERSION=+r[1])}catch(e){}try{lt.SETTINGS.EXTENSION_VERSION=chrome.runtime.getManifest().version}catch(e){}return e.abrupt("return",t.os);case 9:case"end":return e.stop()}}),e)}))),function(){return wt.apply(this,arguments)}),generateUUID:function(){try{var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}catch(e){return Math.random()}},getWelcomePDFUrl:function(e){var t=chrome.i18n.getMessage("@@ui_locale");["ca","da","en_GB","es","fi","hr","it","ko","nl","pt_BR","ru","sl","tr","zh_CN","cs","de","en_US","eu","fr","hu","ja","nb","pl","ro","sk","sv","uk","zh_TW"].includes(t)||(t="en_US");var r=Ot.isEdge()?"Edge":"Chrome";return"".concat(e,"/dc-chrome-extension/mv/").concat(t,"/Acrobat-for-").concat(r,".pdf")},constructUrlWithParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.split("#"),n=r[0],o=r[1],i=new URL(n);return Object.entries(t).forEach((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1];i.searchParams.set(o,a)})),o?"".concat(i.toString(),"#").concat(o):i.toString()},createLocalFilePromptPopup:function(e){var t=arguments;return yt(pt().mark((function r(){var n,o;return pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},o=t.length>2?t[2]:void 0,r.abrupt("return",new Promise((function(t,r){chrome.tabs.query({active:!0,currentWindow:!0},function(){var i=yt(pt().mark((function i(a){var c,u,s,l,f,h,p;return pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,c=a[0]){i.next=5;break}return r(new Error("No active tab found")),i.abrupt("return");case 5:return i.next=7,chrome.windows.get(c.windowId);case 7:u=i.sent,s=Math.min(Math.round(.8*u.height),900),l=Math.min(Math.round(.9*u.width),1550),f=Math.round(.5*(u.height-s)+u.top),h=Math.round(.5*(u.width-l)+u.left),p=mt({height:s,width:l,left:h,top:f,focused:!0,type:"normal",url:e},n),chrome.windows.create(p,(function(e){o&&o(e),t(e)})),i.next=19;break;case 16:i.prev=16,i.t0=i.catch(0),r(i.t0);case 19:case"end":return i.stop()}}),i,null,[[0,16]])})));return function(e){return i.apply(this,arguments)}}())})));case 3:case"end":return r.stop()}}),r)})))()},createTabWithOptionalTracking:function(e){var t=arguments;return yt(pt().mark((function r(){var n,o,i;return pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:null,o=t.length>2&&void 0!==t[2]?t[2]:12e4,r.prev=2,r.next=5,chrome.tabs.create({url:e});case 5:return i=r.sent,n&&tt.Yz.setWithTTL(n,i.id,o),r.abrupt("return",{status:"success",tabId:i.id});case 10:return r.prev=10,r.t0=r.catch(2),r.abrupt("return",{status:"error",message:null===r.t0||void 0===r.t0?void 0:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},isAcrobatTouchPointEnabled:function(e){var t=tt.Yz.getItem(e);if(""!==t&&null!=t)return"false"!==t;var r=tt.Yz.getItem("acrobat-touch-points-in-other-surfaces");return""===r||null==r||"false"!==r}};function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t,r){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ct(n.key),n)}}function Ct(e){var t=function(e){if("object"!=Tt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tt(t)?t:t+""}var Ft=new(function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flushInterval=1e4,this.SERVER_PATH="/system/log",this.SERVER_CONTENT_TYPE='application/vnd.adobe.dc+json; profile="/schemas/system_log_parameters_v1.json"',setTimeout((function(){var e=tt.Yz.getItem("installSource");t.loggingUri=nt[tt.Yz.getItem("env")],"development"===e&&(t.loggingUri=nt.stage,t.enableConsole=!0)}),250)},t=[{key:"registerLogInterval",value:function(e){var t=this;e?this.interval||(this.interval=setInterval((function(){(tt.Yz.getItem("deferredLogs")||[]).length>0&&t._flushLogs()}),this.flushInterval)):(tt.Yz.removeItem("deferredLogs"),clearInterval(this.interval))}},{key:"renameEvars",value:function(e){return Object.entries(rt).forEach((function(t){var r=At(t,2),n=r[0],o=r[1];e.hasOwnProperty(n)&&(e[o]=e[n],delete e[n])})),e}},{key:"_flatten",value:function(e){var t={};if(e)for(var r=0,n=Object.entries(e);r<n.length;r++){var o=At(n[r],2),i=o[0],a=o[1];"object"===Tt(a)?t=Pt(Pt({},t),this._flatten(a)):t[i]=a}return t}},{key:"_batchHandler",value:function(){var e=this;return tt.Yz.getItem("deferredLogs").map((function(t){return e.renameEvars(t.message),e._flatten(t)}))}},{key:"_flushLogs",value:function(){var e={headers:{"Content-Type":this.SERVER_CONTENT_TYPE.replace("/schemas/","".concat(this.loggingUri,"/schemas/")),"x-request-id":Ot.uuid(),"x-api-app-info":"dc-acrobat-extension","x-api-client-id":"dc-acrobat-extension:".concat(chrome.runtime.id)}},t=this._batchHandler();this.enableConsole?console.log(t):fetch(this.loggingUri+this.SERVER_PATH,{method:"POST",headers:e.headers,body:JSON.stringify(t)}).catch((function(e){return console.log(e)})),tt.Yz.setItem("deferredLogs",[])}},{key:"_logWithoutAuth",value:function(e){var t=tt.Yz.getItem("deferredLogs")||[];t.push(e),tt.Yz.setItem("deferredLogs",t)}},{key:"_isLogBlocked",value:function(e){var t=tt.Yz.getItem("blockedLogs");return null==t?void 0:t.includes(e)}},{key:"isAllowed",value:function(e){if(this._isLogBlocked(e.message))return!1;if(tt.Yz.getItem("disableLogWhitelisting"))return"analytics"!==e.context;var t=tt.Yz.getItem("allowedLogIndex");return ot[e.message]<=t}},{key:"doLog",value:function(e){var t,r=tt.Yz.getItem("splunkLoggingEnable");if(!(arguments.length<=1)&&arguments.length-1&&(arguments.length<=1?void 0:arguments[1])&&!1!==r&&this.isAllowed(arguments.length<=1?void 0:arguments[1])){var n=arguments.length<=1?void 0:arguments[1];n.context||(n.context="logger");var o={message:n,level:e,sessionId:tt.Yz.getItem("sessionId"),variants:(t=tt.Yz.getItem("experiment-variants"),Array.isArray(t)?t:[]).sort().join("_")};this._logWithoutAuth(o)}}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.doLog.apply(this,["debug"].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.doLog.apply(this,["info"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.doLog.apply(this,["warn"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.doLog.apply(this,["error"].concat(t))}}],t&&Nt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function Gt(){Gt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Rt(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Rt(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Mt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ut(e){return Kt.apply(this,arguments)}function Kt(){var e;return e=Gt().mark((function e(t){var r,n,o;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",t);case 2:if("object"!==Rt(t)||Array.isArray(t)||!t.function){e.next=19;break}if(r=t.function,n=t.args||[],e.prev=5,"function"!=typeof d.PreferenceUtils[r]){e.next=13;break}if(!((o=d.PreferenceUtils[r].apply(d.PreferenceUtils,(i=n,function(e){if(Array.isArray(e))return Dt(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))instanceof Promise)){e.next=12;break}return e.next=11,o;case 11:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",o);case 13:return e.abrupt("return",void 0);case 16:return e.prev=16,e.t0=e.catch(5),e.abrupt("return",void 0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}var i}),e,null,[[5,16]])})),Kt=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Mt(i,n,o,a,c,"next",e)}function c(e){Mt(i,n,o,a,c,"throw",e)}a(void 0)}))},Kt.apply(this,arguments)}function Vt(e){return function(e){if(Array.isArray(e))return Zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return(t=tr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function qt(){qt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ht(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Ht(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||Xt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Xt(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Xt(e,t){if(e){if("string"==typeof e)return Zt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zt(e,t):void 0}}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Qt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Jt(i,n,o,a,c,"next",e)}function c(e){Jt(i,n,o,a,c,"throw",e)}a(void 0)}))}}function er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tr(n.key),n)}}function tr(e){var t=function(e){if("object"!=Ht(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ht(t)?t:t+""}var rr=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.changedPreferences=new Map,this.pendingAnalytics=new Map,this.subscribers=new Map,this.changeListeners=[],this.refreshListeners=[],this.optionsPageSource=""},t=[{key:"getValue",value:(u=Qt(qt().mark((function e(t,r){var n,o,i,a,c,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,Ut(r);case 3:return e.abrupt("return",e.sent);case 4:n=$t(this.changedPreferences.entries()),e.prev=5,n.s();case 7:if((o=n.n()).done){e.next=13;break}if((i=Wt(o.value,2))[0],(a=i[1]).storageKey!==t){e.next=11;break}return e.abrupt("return",a.newValue);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:if(null!=(c=tt.Yz.getItem(t))&&""!==c){e.next=29;break}return e.next=25,Ut(r);case 25:if(!0!==(u=e.sent)&&!1!==u){e.next=28;break}return e.abrupt("return",u);case 28:return e.abrupt("return",u);case 29:return e.abrupt("return",c);case 30:case"end":return e.stop()}}),e,this,[[5,15,18,21]])}))),function(e,t){return u.apply(this,arguments)})},{key:"getOriginalValue",value:(c=Qt(qt().mark((function e(t,r){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,Ut(r);case 3:case 8:return e.abrupt("return",e.sent);case 4:if(null!=(n=tt.Yz.getItem(t))&&""!==n){e.next=9;break}return e.next=8,Ut(r);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"setValue",value:function(e,t){var r;e&&(r=Array.isArray(t)||"object"===Ht(t)&&null!==t?t:String(t),tt.Yz.setItem(e,r),this.notifySubscribers(e,r))}},{key:"markAsChanged",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.pendingAnalytics.has(e)&&this.pendingAnalytics.delete(e);var u=this.changedPreferences.get(e);if(u){var s=u.oldValue;if(String(n)===String(s))return this.changedPreferences.delete(e),void this.notifyChangeListeners();this.changedPreferences.set(e,{storageKey:t,oldValue:s,newValue:n,requiresReload:o||u.requiresReload,saveCallback:i||u.saveCallback,backgroundPreferencesKey:a||u.backgroundPreferencesKey,analytics:c||u.analytics,timestamp:Date.now()})}else{if(String(n)===String(r))return;this.changedPreferences.set(e,{storageKey:t,oldValue:r,newValue:n,requiresReload:o,saveCallback:i,backgroundPreferencesKey:a,analytics:c,timestamp:Date.now()})}this.notifyChangeListeners()}},{key:"addPendingAnalytics",value:function(e,t){t&&e&&this.pendingAnalytics.set(e,t)}},{key:"hasChanged",value:function(e){return this.changedPreferences.has(e)}},{key:"getChangedPreferences",value:function(){return Array.from(this.changedPreferences.entries()).map((function(e){var t=Wt(e,2);return Bt({id:t[0]},t[1])}))}},{key:"clearChanges",value:function(){this.changedPreferences.clear(),this.pendingAnalytics.clear(),this.notifyChangeListeners()}},{key:"setOptionsPageSource",value:function(e){this.optionsPageSource=e}},{key:"getOptionsPageSource",value:function(){return this.optionsPageSource}},{key:"sendAnalytics",value:(a=Qt(qt().mark((function e(t){var r,n,o,i=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,chrome.runtime.sendMessage({main_op:"resolve-analytics-event",eventKey:t});case 4:null!=(n=e.sent)&&n.eventValue&&(o=Bt({pageSource:"new_preferences_page",optionsPageSource:this.getOptionsPageSource()||""},r),chrome.runtime.sendMessage({main_op:"analytics",analytics:[[n.eventValue,o]]})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error sending analytics:",e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return a.apply(this,arguments)})},{key:"resolveEventKey",value:(i=Qt(qt().mark((function e(t){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,chrome.runtime.sendMessage({main_op:"resolve-analytics-event",eventKey:t});case 5:return r=e.sent,e.abrupt("return",(null==r?void 0:r.eventValue)||null);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Failed to resolve analytics event key: ".concat(t),e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return i.apply(this,arguments)})},{key:"getAnalyticsForChange",value:(o=Qt(qt().mark((function e(t){var r,n,o,i,a;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.analytics){e.next=2;break}return e.abrupt("return",null);case 2:if(r=null,(n={}).pageSource="new_preferences_page",o=this.getOptionsPageSource()||"",n.optionsPageSource=o,"string"==typeof t.analytics?r=t.analytics:"object"===Ht(t.analytics)&&(t.analytics.enabled&&t.analytics.disabled?r=!0===t.newValue||"true"===t.newValue?t.analytics.enabled:t.analytics.disabled:t.analytics.event?(r=t.analytics.event,t.analytics.params&&(n=Bt(Bt({},n),t.analytics.params))):t.analytics.params&&(i=Object.keys(t.analytics),r=i.find((function(e){return"params"!==e})),n=Bt(Bt({},n),t.analytics.params))),r){e.next=10;break}return e.abrupt("return",null);case 10:return e.next=12,this.resolveEventKey(r);case 12:if(a=e.sent){e.next=15;break}return e.abrupt("return",null);case 15:return e.abrupt("return",Object.keys(n).length>0?[a,n]:[a]);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"savePreferences",value:(n=Qt(qt().mark((function e(){var t,r,n,o,i,a,c,u,s,l,f,h,p,y,v,m,g,b,w=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getChangedPreferences(),r=[],n=[],o=!1,i={},a=$t(t),e.prev=6,a.s();case 8:if((c=a.n()).done){e.next=35;break}if(!(u=c.value).storageKey){e.next=33;break}if(!u.saveCallback){e.next=26;break}if(e.prev=12,s=void 0,l=[],"string"==typeof u.saveCallback?s=d.PreferenceUtils[u.saveCallback]:"object"===Ht(u.saveCallback)&&u.saveCallback.function&&(s=d.PreferenceUtils[u.saveCallback.function],l=u.saveCallback.args||[]),"function"!=typeof s){e.next=21;break}if(!((f=s.apply(void 0,[this,u.newValue,u.oldValue].concat(Vt(l))))instanceof Promise)){e.next=21;break}return e.next=21,f;case 21:e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(12),e.t0;case 26:return this.setValue(u.storageKey,u.newValue),u.requiresReload&&(o=!0),u.backgroundPreferencesKey&&(i[u.backgroundPreferencesKey||u.storageKey]=u.newValue),e.next=31,this.getAnalyticsForChange(u);case 31:(h=e.sent)&&(r.push(h),n.push.apply(n,[h[0]]));case 33:e.next=8;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(6),a.e(e.t1);case 40:return e.prev=40,a.f(),e.finish(40);case 43:p=$t(this.pendingAnalytics.entries()),e.prev=44,p.s();case 46:if((y=p.n()).done){e.next=54;break}return(v=Wt(y.value,2))[0],m=v[1],e.next=50,this.getAnalyticsForChange({analytics:m});case 50:(g=e.sent)&&(r.push(g),n.push.apply(n,[g[0]]));case 52:e.next=46;break;case 54:e.next=59;break;case 56:e.prev=56,e.t2=e.catch(44),p.e(e.t2);case 59:return e.prev=59,p.f(),e.finish(59);case 62:return i.environment&&(chrome.runtime.sendMessage({main_op:"init-floodgate"}),chrome.runtime.sendMessage({main_op:"closeOffscreenDocument"})),(b=t.length)>0&&Ft.info({message:"Options preferences updated",updatedSettingsCount:b,analyticsEvents:n,optionsPageSource:this.getOptionsPageSource()}),e.abrupt("return",new Promise((function(e,n){chrome.runtime.sendMessage(Bt({main_op:"save-preferences",analytics:r},i),function(){var a=Qt(qt().mark((function a(c){return qt().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!c||!c.success){a.next=8;break}return a.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:w.clearChanges(),w.notifyRefreshListeners(),e({success:!0,changes:t,analytics:r,requiresReload:o,backgroundPreferences:i}),a.next=9;break;case 8:n(new Error("Failed to save preferences"));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})));case 66:case"end":return e.stop()}}),e,this,[[6,37,40,43],[12,23],[44,56,59,62]])}))),function(){return n.apply(this,arguments)})},{key:"subscribe",value:function(e,t){this.subscribers.has(e)||this.subscribers.set(e,[]),this.subscribers.get(e).push(t)}},{key:"unsubscribe",value:function(e,t){if(this.subscribers.has(e)){var r=this.subscribers.get(e),n=r.indexOf(t);n>-1&&r.splice(n,1)}}},{key:"notifySubscribers",value:function(e,t){this.subscribers.has(e)&&this.subscribers.get(e).forEach((function(r){try{r(e,t)}catch(e){}}))}},{key:"onChangeUpdated",value:function(e){this.changeListeners.push(e)}},{key:"offChangeUpdated",value:function(e){var t=this.changeListeners.indexOf(e);t>-1&&this.changeListeners.splice(t,1)}},{key:"notifyChangeListeners",value:function(){var e=this;this.changeListeners.forEach((function(t){try{t(e.getChangedPreferences())}catch(e){}}))}},{key:"onRefresh",value:function(e){this.refreshListeners.push(e)}},{key:"offRefresh",value:function(e){var t=this.refreshListeners.indexOf(e);t>-1&&this.refreshListeners.splice(t,1)}},{key:"notifyRefreshListeners",value:function(){this.refreshListeners.forEach((function(e){try{e()}catch(e){console.error("Error in refresh listener:",e)}}))}},{key:"resetToDefaults",value:(r=Qt(qt().mark((function e(t){var r,n=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.tabs){e.next=2;break}return e.abrupt("return");case 2:return r=[],t.tabs.forEach((function(e){e.sections&&e.sections.forEach((function(e){e.controls&&e.controls.forEach((function(e){if(e.storageKey&&void 0!==e.defaultValue){var t=Ut(e.defaultValue).then((function(t){n.setValue(e.storageKey,t)}));r.push(t)}}))}))})),e.next=6,Promise.all(r);case 6:this.clearChanges();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],t&&er(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o,i,a,c,u}();function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;try{return chrome.i18n.getMessage(e)||t||e}catch(r){return t||e}}function or(e){var t,r=e.onRetry,o=e.errorTitle,c=void 0===o?"":o,s=e.errorDescription,l=void 0===s?"":s,h=e.showDescription,p=void 0!==h&&h,d=e.withProvider,y=void 0===d||d,v=e.colorScheme,m=void 0===v?"light":v,g=nr("errorBoundaryTitle","Something went wrong"),b=nr("errorBoundaryDescription","We encountered an unexpected error. Please try again."),w=nr("errorBoundaryRetryButton","Try again"),x=n.createElement(f.S,{UNSAFE_className:"error-screen-container",padding:"size-400"},n.createElement(f.S,null,n.createElement("img",{src:(t="dark"===m?"B_Illu_Acrobat_n_connections_D_160x160px.svg":"B_Illu_Acrobat_n_connections_160x160px.svg",chrome.runtime.getURL("browser/images/Error/".concat(t))),alt:c||g,style:{width:"160px",height:"160px"}})),n.createElement(k.D,{level:1},c||g),p&&n.createElement(O.E,{UNSAFE_className:"error-item-description"},l||b),n.createElement(u.$,{variant:"primary",onPress:function(){r?r():window.location.reload()},UNSAFE_className:"error-button",UNSAFE_style:p?{marginTop:"16px"}:{}},w));return y?n.createElement(i.Kq,{colorScheme:m,theme:a.w},x):x}function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lr(n.key),n)}}function cr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cr=function(){return!!e})()}function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ur(e)}function sr(e,t){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sr(e,t)}function lr(e){var t=function(e){if("object"!=ir(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ir(t)?t:t+""}var fr=function(e){function t(e){var r,n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t,r){return t=ur(t),function(e,t){if(t&&("object"==ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cr()?Reflect.construct(t,r||[],ur(e).constructor):t.apply(e,r))}(this,t,[e]),n=r,i=function(){r.setState({hasError:!1,error:null}),r.props.onRetry?r.props.onRetry():window.location.reload()},(o=lr(o="handleRetry"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,r.state={hasError:!1,error:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(t,e),r=t,i=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}],(o=[{key:"componentDidCatch",value:function(e,t){Ft.error({message:"React Error Boundary caught an error",error:(null==e?void 0:e.message)||(null==e?void 0:e.toString()),errorStack:null==e?void 0:e.stack,errorName:null==e?void 0:e.name,context:this.props.context||"unknown"}),console.error("Error caught:",e,t)}},{key:"render",value:function(){return this.state.hasError?n.createElement(or,{error:this.state.error,onRetry:this.handleRetry,withProvider:!1!==this.props.withProvider,colorScheme:this.props.colorScheme,errorTitle:this.props.errorTitle,errorDescription:this.props.errorDescription,showDescription:this.props.showDescription}):this.props.children}}])&&ar(r.prototype,o),i&&ar(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function hr(e){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function pr(){pr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:O(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(A([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==hr(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(hr(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},L(k.prototype),s(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function dr(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function yr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){dr(i,n,o,a,c,"next",e)}function c(e){dr(i,n,o,a,c,"throw",e)}a(void 0)}))}}function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gr(){var e=vr((0,n.useState)(null),2),t=e[0],r=e[1],s=vr((0,n.useState)(!1),2),l=s[0],f=s[1],h=vr((0,n.useState)(!0),2),p=h[0],y=h[1],v=vr((0,n.useState)(!1),2),m=v[0],g=v[1],b=vr((0,n.useState)((function(){return new et})),1)[0],w=vr((0,n.useState)((function(){return new rr})),1)[0],x=vr((0,n.useState)("auto"),2),E=x[0],S=x[1],L=vr((0,n.useState)((function(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})),2),k=L[0],O=L[1],_=(0,n.useRef)(null);(0,n.useEffect)((function(){yr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.Yz.init();case 2:void 0,r=tt.Yz.getItem("theme")||"auto",S(r),(t=tt.Yz.getItem("optionsPageSource"))&&w.setOptionsPageSource(t),P(),(0,d.onPreferencesPageLoad)(),tt.Yz.setItem("always-show-pdf-menu","true");case 8:case"end":return e.stop()}var r}),e)})))();var e=function(e){var t=e.detail.theme;S(t)};window.addEventListener("themeChange",e);var t=window.matchMedia("(prefers-color-scheme: dark)"),r=function(e){O(e.matches?"dark":"light")};t.addEventListener("change",r);var n=function(){document.hidden&&_.current&&_.current()};document.addEventListener("visibilitychange",n);var o=function(e){g(e.length>0)};return w.onChangeUpdated(o),function(){document.removeEventListener("visibilitychange",n),w.offChangeUpdated(o),window.removeEventListener("themeChange",e),t.removeEventListener("change",r)}}),[E,k]);var P=function(){var e=yr(pr().mark((function e(){var t;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.loadConfiguration();case 3:if(t=e.sent){e.next=6;break}throw new Error("Failed to load configuration");case 6:r(t),f(!1),y(!1),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),Ft.error({message:"Failed to load preferences configuration, falling back to legacy options",error:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(null===e.t0||void 0===e.t0?void 0:e.t0.toString()),errorStack:null===e.t0||void 0===e.t0?void 0:e.t0.stack}),f(!0),y(!1),window.location.href=chrome.runtime.getURL("browser/js/legacy-options.html");case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),j=(0,n.useCallback)(yr(pr().mark((function e(){var t,r,n;return pr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.savePreferences();case 3:(t=e.sent).success&&(r=t.requiresReload?"optionsSuccessPromptReloadRequired":"optionsSuccessPrompt",n=t.requiresReload?"Preference would be reflected only after reload":"Preferences saved successfully",o.Vv.positive((0,d.getTranslation)(r,n),{timeout:5e3})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.Vv.negative((0,d.getTranslation)("optionsFailurePrompt","We're unable to save your changes. please try again later"),{timeout:5e3});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[w,d.getTranslation]);if(!E)return null;var T="dark"===E?"dark":"light"===E?"light":k;return p?n.createElement(i.Kq,{colorScheme:T,theme:a.w},n.createElement("div",{className:"preference-loading-container"},n.createElement(c.a,{"aria-label":(0,d.getTranslation)("web2pdfLoaderTitle"),isIndeterminate:!0}))):l?n.createElement(i.Kq,{colorScheme:T,theme:a.w},n.createElement(or,null)):n.createElement(i.Kq,{colorScheme:T,theme:a.w},n.createElement(o.N9,{placement:"top"}),n.createElement("div",{className:"preference-page-container"},n.createElement("header",{className:"top-bar"},n.createElement("div",{className:"app-icon-container"},n.createElement("img",{src:"../images/acrobat_dc_appicon_128.png",alt:(0,d.getTranslation)("web2pdfTitle","Adobe Acrobat"),className:"app-icon"}),n.createElement("h1",{className:"app-title"},(0,d.getTranslation)("web2pdfTitle","Adobe Acrobat"))),n.createElement("div",{id:"saveButtonHeader"},n.createElement(u.$,{UNSAFE_className:"options-save-button",isDisabled:!m,variant:"accent",label:(0,d.getTranslation)("web2pdfSaveButton","Save preferences"),onClick:j,"aria-label":(0,d.getTranslation)("web2pdfSaveButton","Save preferences")},(0,d.getTranslation)("web2pdfSaveButton","Save preferences")))),n.createElement("div",{className:"preference-page-content-container"},n.createElement("div",{className:"preference-page-content"},n.createElement(qe,{config:t,stateManager:w,setClearHighlightCallback:function(e){_.current=e},savePreferences:j})))))}var br=document.getElementById("preference-page-root");br&&(0,s.createRoot)(br).render(n.createElement(fr,{context:"preferences-page",errorTitle:(0,d.getTranslation)("preferenceErrorBoundaryTitle","An error occurred")},n.createElement(gr,null)));const wr=gr},5037:(e,t,r)=>{r.d(t,{PreferenceUtils:()=>Ae,checkAutoOpenConvertedPDFPreference:()=>ae,checkShowExpressTouchpointsPreference:()=>le,checkShowFeatureGuidanceFeatureFlag:()=>ue,checkShowWhatsNewAutoOpenPreference:()=>oe,getConnectedApp:()=>U,getEnvironmentPreference:()=>I,getGenAIServiceVariant:()=>C,getLocalePreference:()=>ee,getTranslation:()=>j,isDebugMode:()=>T,isGmailShortcutDisabled:()=>je,isGoogleDriveShortcutDisabled:()=>Pe,isOpenPdfsInAcrobatEnabled:()=>q,onAcrobatDefaultViewershipPreferenceChange:()=>be,onAcrobatShortcutPreferenceChange:()=>_e,onAdobeExpressPreferenceChange:()=>Ee,onGenAIFeaturesPreferenceChange:()=>Le,onLocaleChangePreference:()=>Se,onPDFViewerPreferenceChange:()=>we,onPreferencesPageLoad:()=>ke,onSaveEnvironmentPreference:()=>A,onSaveSaveLocationPreference:()=>re,onSaveThemePreference:()=>Q,openDefaultViewershipSettings:()=>Te,openLocalFileSettingsPrompt:()=>de,showConversionSettingsDialog:()=>ve,showTurnOffLocalFilePermissionSetting:()=>$,showTurnOnLocalFilePermissionSetting:()=>Z,showWebpageConversionSettings:()=>ce,syncMasterSwitchToOldTouchPointSetting:()=>ge}),r.r(t);var n=r(4225),o=r(5153);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){a=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:P(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function x(){}var E={};f(E,u,(function(){return this}));var S=Object.getPrototypeOf,L=S&&S(S(N([])));L&&L!==r&&n.call(L,u)&&(E=L);var k=x.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,a,c,u){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,u)}),(function(e){r("throw",e,c,u)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,u)}))}u(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,r,n){var o=d;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=p(t,r,n);if("normal"===s.type){if(o=n.done?m:y,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,f(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},O(_.prototype),f(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function c(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)}))}}var s,l,f={setViewerState:(l=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)}),getStreamInfo:function(){return new Promise((function(e){e(void 0)}))},isMimeHandlerAvailable:function(){return new Promise((function(e){e(!1)}))},caretModeStatus:function(){return new Promise((function(e){e(!1)}))},addCaretModeListener:function(e){},reloadWithNativeViewer:function(e,t){},isInstalledViaUpsell:function(){return new Promise((function(e){e(!1)}))},validateCertificate:(s=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(){y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:P(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function x(){}var E={};s(E,a,(function(){return this}));var S=Object.getPrototypeOf,L=S&&S(S(N([])));L&&L!==r&&n.call(L,a)&&(E=L);var k=x.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==h(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(h(t)+" is not iterable")}return w.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},O(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function v(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,c,"next",e)}function c(e){v(i,n,o,a,c,"throw",e)}a(void 0)}))}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}function w(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new x(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function x(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return x=function(e){this.s=e,this.n=e.next},x.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new x(e)}var E=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"_logError",value:function(e,t,r){try{chrome.runtime.sendMessage({type:"log-error",log:{message:"Large Blob Storage: ".concat(e),error:(null==t?void 0:t.toString())||"Unknown error",key:r,context:"large-blob-storage"}})}catch(e){}}},{key:"setItem",value:(i=m(y().mark((function e(t,r){var n,o,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.storage.getDirectory();case 3:return n=e.sent,e.next=6,n.getFileHandle(t,{create:!0});case 6:return o=e.sent,e.next=9,o.createWritable();case 9:return i=e.sent,e.next=12,i.write(r);case 12:return e.next=14,i.close();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this._logError("Error saving data",e.t0,t);case 19:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e,t){return i.apply(this,arguments)})},{key:"getItem",value:(o=m(y().mark((function e(t){var r,n,o,i,a=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"text",e.prev=1,e.next=4,navigator.storage.getDirectory();case 4:return n=e.sent,e.next=7,n.getFileHandle(t);case 7:return o=e.sent,e.next=10,o.getFile();case 10:i=e.sent,e.t0=r,e.next="text"===e.t0?14:"blob"===e.t0?17:"arrayBuffer"===e.t0?20:23;break;case 14:return e.next=16,i.text();case 16:return e.abrupt("return",e.sent);case 17:return e.next=19,i.blob();case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,i.arrayBuffer();case 22:return e.abrupt("return",e.sent);case 23:throw new Error("Unsupported format: ".concat(r));case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),"NotFoundError"!==e.t1.name&&this._logError("Error retrieving data",e.t1,t);case 29:case"end":return e.stop()}}),e,this,[[1,26]])}))),function(e){return o.apply(this,arguments)})},{key:"removeItem",value:(n=m(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.storage.getDirectory();case 3:return r=e.sent,e.next=6,r.removeEntry(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),"NotFoundError"!==e.t0.name&&this._logError("Error removing data",e.t0,t);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return n.apply(this,arguments)})},{key:"clear",value:(r=m(y().mark((function e(){var t,r,n,o,i,a,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.storage.getDirectory();case 3:t=e.sent,r=!1,n=!1,e.prev=6,i=w(t.entries());case 8:return e.next=10,i.next();case 10:if(!(r=!(a=e.sent).done)){e.next=17;break}return c=p(a.value,1),u=c[0],e.next=14,t.removeEntry(u,{recursive:!0});case 14:r=!1,e.next=8;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),n=!0,o=e.t0;case 23:if(e.prev=23,e.prev=24,!r||null==i.return){e.next=28;break}return e.next=28,i.return();case 28:if(e.prev=28,!n){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(0),this._logError("Error clearing storage",e.t1,"all");case 38:case"end":return e.stop()}}),e,this,[[0,35],[6,19,23,33],[24,,28,32]])}))),function(){return r.apply(this,arguments)})}],t&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o,i}());function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function O(){O=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new I(n||[]);return o(a,"_invoke",{value:P(e,r,c)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var L=b.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==S(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?y:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(S(t)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},k(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function _(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_(i,n,o,a,c,"next",e)}function c(e){_(i,n,o,a,c,"throw",e)}a(void 0)}))}}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;try{return chrome.i18n.getMessage(e)||t||e}catch(r){return t||e}}function T(){return SETTINGS.DEBUG_MODE}function A(e,t,r){chrome.runtime.sendMessage({main_op:"update_env",env:t})}function I(){return N.apply(this,arguments)}function N(){return(N=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({main_op:"getEnv"});case 2:return t=e.sent,e.abrupt("return",t||"prod");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){return o.Yz.getItem("cluster")||("true"===o.Yz.getItem("adobeInternal")?"beta":"release")},F=function(){var e=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({main_op:"getVersion"});case 2:return t=e.sent,e.abrupt("return",t||-1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function G(){return D.apply(this,arguments)}function D(){return(D=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.abrupt("return",t>13);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return M.apply(this,arguments)}function M(){return(M=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.abrupt("return",13==t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return K.apply(this,arguments)}function K(){return(K=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(!e.sent){e.next=6;break}e.t0="acrobat",e.next=14;break;case 6:return e.next=8,R();case 8:if(!e.sent){e.next=12;break}e.t1="reader",e.next=13;break;case 12:e.t1="no-app";case 13:e.t0=e.t1;case 14:return t=e.t0,e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return z.apply(this,arguments)}function z(){return(z=P(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({main_op:"isEdge"});case 2:if(!e.sent){e.next=10;break}return e.next=6,f.isMimeHandlerAvailable();case 6:if(!e.sent){e.next=10;break}if(!o.Yz.getItem("openInAcrobatEnable")||"admin"===o.Yz.getItem("installSource")){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return Y.apply(this,arguments)}function Y(){return(Y=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!SETTINGS.VIEWER_ENABLED){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,V();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){if(SETTINGS.VIEWER_ENABLED)return!0}function q(){return W.apply(this,arguments)}function W(){return(W=P(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G()){e.next=4;break}return e.abrupt("return",!(!SETTINGS.VIEWER_ENABLED||!SETTINGS.VIEWER_ENABLED_FOR_ACROBAT));case 4:if(!R(request)){e.next=10;break}return e.next=7,B();case 7:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",H());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return X.apply(this,arguments)}function X(){return(X=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.extension.isAllowedFileSchemeAccess();case 2:return t=e.sent,e.next=5,chrome.runtime.sendMessage({main_op:"isEdge"});case 5:if(e.sent||!t){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return J.apply(this,arguments)}function J(){return(J=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.extension.isAllowedFileSchemeAccess();case 2:return t=e.sent,e.next=5,chrome.runtime.sendMessage({main_op:"isEdge"});case 5:if(e.sent||t){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,r){window.dispatchEvent(new CustomEvent("themeChange",{detail:{theme:t}})),chrome.runtime.sendMessage({main_op:"themeChange",theme:t}),e.sendAnalytics("OPTIONS_APPEARENCE_THEME_CHANGED",{OLDTHEME:r,NEWTHEME:t})}function ee(){return te.apply(this,arguments)}function te(){return(te=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({main_op:"getFrictionlessLocale"});case 2:return t=e.sent,e.abrupt("return",o.Yz.getItem("viewer-locale")||t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,r){return ne.apply(this,arguments)}function ne(){return(ne=P(O().mark((function e(t,r,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.Yz.setItem("selectedSaveLocationPreference",!0),t.sendAnalytics("SAVE_LOCATION_PREFERENCE_CHANGED",{OLDPREF:n,NEWPREF:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=P(O().mark((function e(){var t,r,n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({main_op:"getWhatsNewFlag"});case 2:if(t=e.sent,r=o.Yz.getItem("whatsNewState")||{},n=r.disableAutoOpenByAdmin,!t||n){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return G()}function ce(){return G()}function ue(){return se.apply(this,arguments)}function se(){return(se=P(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.runtime.sendMessage({main_op:"getFloodgateFlag",flag:"dc-cv-feature-guidance"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return fe.apply(this,arguments)}function fe(){return(fe=P(O().mark((function e(){var t,r,n,o,i,a,c,u,s,l,f,h;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[chrome.runtime.sendMessage({main_op:"express-init"}),chrome.runtime.sendMessage({main_op:"whatsapp-express-init"}),chrome.runtime.sendMessage({main_op:"gmail-express-init"}),chrome.runtime.sendMessage({main_op:"google-image-preview-express-init"}),chrome.runtime.sendMessage({main_op:"gdrive-express-init"}),chrome.runtime.sendMessage({main_op:"facebook-express-init"}),chrome.runtime.sendMessage({main_op:"chatgpt-express-init"}),chrome.runtime.sendMessage({main_op:"outlook-express-init"})],e.next=3,Promise.all(t);case 3:return r=e.sent,n=L(r,8),o=n[0],i=n[1],a=n[2],c=n[3],u=n[4],s=n[5],l=n[6],f=n[7],h=o.shouldEnableExpressTouchpointsPreference||i.enableExpressOptionsPagePreference||a.enableExpressOptionsPagePreference||c.enableExpressOptionsPagePreference||u.enableExpressOptionsPagePreference||s.enableExpressOptionsPagePreference||l.enableExpressOptionsPagePreference||f.enableExpressOptionsPagePreference,e.abrupt("return",h);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.split("#"),n=r[0],o=r[1],i=new URL(n);return Object.entries(t).forEach((function(e){var t=L(e,2),r=t[0],n=t[1];i.searchParams.set(r,n)})),o?"".concat(i.toString(),"#").concat(o):i.toString()}function pe(e){var t=Math.min(Math.round(.8*e.height),900),r=Math.min(Math.round(.9*e.width),1550);return{height:t,width:r,top:Math.round(.5*(e.height-t)+e.top),left:Math.round(.5*(e.width-r)+e.left)}}function de(e){return ye.apply(this,arguments)}function ye(){return(ye=P(O().mark((function e(t){var r,o,i,a,c,u,s,l,f,h,p;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.tabs.query({active:!0,currentWindow:!0});case 2:return r=e.sent,o=L(r,1),i=o[0],e.next=7,chrome.windows.get(i.windowId);case 7:return a=e.sent,c=pe(a),u=c.height,s=c.width,l=c.left,f=c.top,e.next=11,chrome.extension.isAllowedFileSchemeAccess();case 11:h=e.sent,p=n.nt,h||(p=he(n.nt,{context:n.ZG.LOCAL_FILE_COACHMARK,autoDismiss:!0})),chrome.windows.create({height:u,width:s,left:l,top:f,focused:!0,type:"normal",url:p},(function(){chrome.runtime.lastError?reject(chrome.runtime.lastError):(t.sendAnalytics("LOCAL_FILE_OPTIONS_CLICKED",{STATE:h?"Disable":"Enable"}),h||chrome.action.openPopup().catch((function(e){return console.error(e)})))}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function(e){chrome.runtime.sendMessage({main_op:"showConversionSettingsDialog"}),e.sendAnalytics("TREFOIL_HTML_PREFERENCES_CLICK")},me=function(e,t){var r;null===(r=chrome.runtime)||void 0===r||r.sendMessage({main_op:"changeDefaultViewershipForSurface",surfaceId:e,isDefault:t,source:"extensionPreferencePage",pageSource:"new_preferences_page"})};function ge(e,t){if("indeterminate"!==t){var r=!0===t||"true"===t?"true":"false";o.Yz.setItem("acrobat-touch-points-in-other-surfaces",r)}}function be(e,t,r,n){me(n,!0===t||"true"===t)}function we(e,t,r){return xe.apply(this,arguments)}function xe(){return(xe=P(O().mark((function e(t,r,n){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=!0===r||"true"===r)?(o.Yz.setItem("viewer-enabled-source","ownership-consent"),a="true"):a="false",e.next=4,chrome.runtime.sendMessage({main_op:"isEdge"});case 4:e.sent&&chrome.runtime.sendMessage({main_op:"pdfViewerChanged",value:a}),o.Yz.getWithTTL("ownership-upgrade")&&!1===i&&(t.sendAnalytics("USE_ACROBAT_VIEWER_DISABLED_DEFAULT_OWNERSHIP_EXPERIMENT",{SOURCE:"OptionsPage",EXPERIMENT:o.Yz.getItem("experiment-ownership")}),t.sendAnalytics("USE_ACROBAT_VIEWER_DISABLED_DEFAULT_OWNERSHIP",{SOURCE:"OptionsPage"}),o.Yz.removeItem("ownership-upgrade"),o.Yz.removeItem("defaultOwnerShipExperiment")),f.setViewerState(!0===i?"enabled":"disabled");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=function(e,t,r){var n=!0===t||"true"===t;chrome.runtime.sendMessage({main_op:"toggle-express-touch-points",allowed:n})},Se=function(e,t,r){E.removeItem("anonGenAISSRHtml"),setTimeout((function(){chrome.runtime.sendMessage({main_op:"toggle-add-webpage-to-project-context-menu"})}),1e3)},Le=function(e,t,r){setTimeout((function(){chrome.runtime.sendMessage({main_op:"toggle-add-webpage-to-project-context-menu"})}),1e3)};function ke(){return Oe.apply(this,arguments)}function Oe(){return(Oe=P(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.isMimeHandlerAvailable();case 2:e.sent||chrome.runtime.sendMessage({main_op:"updateLoadedTabsInfo"});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,r,n){for(var o=!0===t||"true"===t,i=arguments.length,a=new Array(i>4?i-4:0),c=4;c<i;c++)a[c-4]=arguments[c];!function(e,t,r){var n;n=e?"acrobatTouchPointsEnabled":"acrobatTouchPointsDisabled",chrome.tabs.query({url:r},(function(e){null==e||e.forEach((function(e){chrome.tabs.sendMessage(e.id,{content_op:n,acrobatShortcutSurfaceId:t})}))}))}(o,n,a)}function Pe(){return"false"!==o.Yz.getItem("gdrive-pdf-default-viewership")}function je(){return"false"!==o.Yz.getItem("gmail-pdf-default-viewership")}function Te(){try{var e=new CustomEvent("navigateToPreference",{detail:{tabId:"general",accordionId:"acrobat-integrations-default-viewership-group"}});window.dispatchEvent(e)}catch(e){console.error("Error navigating to default viewership settings:",e)}}var Ae={isDebugMode:T,onSaveEnvironmentPreference:A,getEnvironmentPreference:I,getGenAIServiceVariant:C,getConnectedApp:U,isOpenPdfsInAcrobatEnabled:q,showTurnOffLocalFilePermissionSetting:$,showTurnOnLocalFilePermissionSetting:Z,onSaveThemePreference:Q,getLocalePreference:ee,onSaveSaveLocationPreference:re,checkShowWhatsNewAutoOpenPreference:oe,checkAutoOpenConvertedPDFPreference:ae,showWebpageConversionSettings:ce,checkShowFeatureGuidanceFeatureFlag:ue,checkShowExpressTouchpointsPreference:le,openLocalFileSettingsPrompt:de,showConversionSettingsDialog:ve,onPDFViewerPreferenceChange:we,onAdobeExpressPreferenceChange:Ee,onLocaleChangePreference:Se,onGenAIFeaturesPreferenceChange:Le,onAcrobatShortcutPreferenceChange:_e,onPreferencesPageLoad:ke,onAcrobatDefaultViewershipPreferenceChange:be,isGoogleDriveShortcutDisabled:Pe,isGmailShortcutDisabled:je,openDefaultViewershipSettings:Te,syncMasterSwitchToOldTouchPointSetting:ge}},5153:(e,t,r)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),c=new I(n||[]);return a(i,"_invoke",{value:P(e,r,c)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function x(){}var E={};f(E,u,(function(){return this}));var S=Object.getPrototypeOf,L=S&&S(S(N([])));L&&L!==r&&n.call(L,u)&&(E=L);var k=x.prototype=b.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,a,c,u){var s=p(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,u)}),(function(e){r("throw",e,c,u)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,u)}))}u(s.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=d;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=p(t,r,n);if("normal"===s.type){if(o=n.done?m:y,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=x,a(k,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,f(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},O(_.prototype),f(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,u,"next",e)}function u(e){a(i,n,o,c,u,"throw",e)}c(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}r.d(t,{Yz:()=>d});var p=function(){return e=function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storage=null,this.storagePromise=null,this.type=t,t){case"local":this.storageApi=chrome.storage.local;break;case"session":this.storageApi=chrome.storage.session;break;default:throw new Error("dcStorage type not supported")}this.ignoreKeys=["Floodgate","Common","Communicate"]},t=[{key:"logError",value:function(e){try{var t;null!==(t=chrome)&&void 0!==t&&null!==(t=t.runtime)&&void 0!==t&&t.sendMessage&&chrome.runtime.sendMessage({main_op:"log-error",log:s(s({},e),{},{storageType:this.type})})}catch(e){}}},{key:"shouldLogQuotaError",value:(u=c(i().mark((function e(){var t,r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Date.now(),r=864e5,n="local"===this.type?"qe_l":"qe_s",e.next=6,chrome.storage.session.get(n);case 6:if(o=e.sent,a=o[n]||0,!(t-a>r)){e.next=12;break}return e.next=11,chrome.storage.session.set(l({},n,t));case 11:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(){return u.apply(this,arguments)})},{key:"logQuotaError",value:(a=c(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.shouldLogQuotaError();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:try{null!==(n=chrome)&&void 0!==n&&null!==(n=n.runtime)&&void 0!==n&&n.sendMessage&&chrome.runtime.sendMessage({main_op:"log-quota-error",key:t,storageType:this.type,errorMessage:r})}catch(e){}case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"init",value:(o=c(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.storagePromise||(this.storagePromise=this.storageApi.get()),this.storage){e.next=6;break}return e.next=5,this.storagePromise;case 5:this.storage=e.sent;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.logError({message:"Error initializing ".concat(this.type," storage"),error:(null===e.t0||void 0===e.t0||null===(t=e.t0.toString)||void 0===t?void 0:t.call(e.t0))||"Unknown error"});case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return o.apply(this,arguments)})},{key:"getAllItems",value:function(){return this.storage||{}}},{key:"length",value:function(){return Object.keys(this.getAllItems()).length}},{key:"getItem",value:function(e){return this.storage&&void 0!==this.storage[e]?this.storage[e]:""}},{key:"setItem",value:(n=c(i().mark((function e(t,r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.storage[t]=r,e.next=4,this.storageApi.set(l({},t,r));case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(0),!this.ignoreKeys.includes(t)){e.next=11;break}return e.abrupt("return",void 0);case 11:return o=(null===e.t0||void 0===e.t0||null===(n=e.t0.toString)||void 0===n?void 0:n.call(e.t0))||"Unknown error",this.logQuotaError(t,"Error setting item in ".concat(this.type," storage: ").concat(o)),e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return n.apply(this,arguments)})},{key:"removeItem",value:(r=c(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,delete this.storage[t],e.next=4,this.storageApi.remove(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.logError({message:"Error removing item from local storage",key:t,error:(null===e.t0||void 0===e.t0||null===(r=e.t0.toString)||void 0===r?void 0:r.call(e.t0))||"Unknown error"});case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return r.apply(this,arguments)})},{key:"setWithTTL",value:function(e,t,r){try{var n=(new Date).getTime()+r;return this.setItem(e,{value:t,expiry:n})}catch(e){}}},{key:"getWithTTL",value:function(e){try{var t=(new Date).getTime(),r=this.getItem(e);if(r){if(t<=r.expiry)return r.value;this.removeItem(e)}}catch(e){}}},{key:"updateWithTTL",value:function(e,t){try{var r=this.storage[e];if(r)return this.setItem(e,{value:t,expiry:r.expiry})}catch(e){}}},{key:"getItems",value:function(e){var t=this,r={};return e.forEach((function(e){t.storage&&void 0!==t.storage[e]&&(r[e]=t.storage[e])})),r}}],t&&f(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o,a,u}(),d=new p("local"),y=new p("session");chrome.storage.onChanged.addListener(function(){var e=c(i().mark((function e(t,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="local"===e.t0?3:"session"===e.t0?5:7;break;case 3:return o=d,e.abrupt("break",8);case 5:return o=y,e.abrupt("break",8);case 7:return e.abrupt("return");case 8:return e.next=10,o.init();case 10:Object.entries(t).forEach((function(e){var t,r,i=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1].newValue;void 0!==c?o.storage[a]=c:delete o.storage[a]}));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())},9022:()=>{},9422:e=>{e.exports=self["globalThis.chrome"]}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],c=!0,u=0;u<r.length;u++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(c=!1,i<a&&(a=i));if(c){e.splice(l--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=261;var o,i=n;export{i as __webpack_require__};o={261:0},n.C=e=>{var t,r,{__webpack_esm_ids__:i,__webpack_esm_modules__:a,__webpack_esm_runtime__:c}=e,u=0;for(t in a)n.o(a,t)&&(n.m[t]=a[t]);for(c&&c(n);u<i.length;u++)r=i[u],n.o(o,r)&&o[r]&&o[r][0](),o[i[u]]=0;n.O()},n.O.j=e=>0===o[e];import*as a from"./vendor.js";n.C(a);import*as c from"./spectrum.js";n.C(c);import*as u from"./otherVendors.js";n.C(u);var s=n.O(void 0,[121,38,880],(()=>n(4759)));const l=(s=n.O(s)).A;export{l as default};